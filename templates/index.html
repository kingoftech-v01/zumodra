{% extends "base/freelanhub_base.html" %}
{% load static i18n %}

{% block title %}FreelanHub - Job Board & Freelance Marketplace{% endblock %}

{% block meta_description %}FreelanHub - Discover your next freelance solution today. Find work or find talent on the leading freelance marketplace.{% endblock %}

{% block content %}

<!-- Slider / Hero Section -->
<section class="slider">
    <div class="slider_inner relative md:h-[780px] overflow-hidden sm:mt-20 mt-16">
        <div class="slider_bg absolute top-0 left-0 w-full h-full z-[-1]">
            <img src="{% static 'assets/images/slider/slider2.webp' %}" alt="{% trans 'Hero background' %}" class="w-full h-full object-cover" />
        </div>
        <div class="container h-full">
            <div class="slider_top relative">
                <ul class="list_category flex items-center justify-between max-xl:gap-5 absolute top-4 left-0 w-full max-xl:whitespace-nowrap max-xl:max-w-max max-xl:overflow-x-auto">
                    <li class="category_item">
                        <a href="{% url 'services:service_list' %}?category=graphics-design" class="category_link text-button text-white line-before line-white">{% trans "Graphic & Design" %}</a>
                    </li>
                    <li class="category_item">
                        <a href="{% url 'services:service_list' %}?category=digital-marketing" class="category_link text-button text-white line-before line-white">{% trans "Digital Marketing" %}</a>
                    </li>
                    <li class="category_item">
                        <a href="{% url 'services:service_list' %}?category=programming-tech" class="category_link text-button text-white line-before line-white">{% trans "Programming & Tech" %}</a>
                    </li>
                    <li class="category_item">
                        <a href="{% url 'services:service_list' %}?category=writing-translation" class="category_link text-button text-white line-before line-white">{% trans "Writing & Translation" %}</a>
                    </li>
                    <li class="category_item">
                        <a href="{% url 'services:service_list' %}?category=video-animation" class="category_link text-button text-white line-before line-white">{% trans "Videos & Animation" %}</a>
                    </li>
                    <li class="category_item">
                        <a href="{% url 'services:service_list' %}?category=music-audio" class="category_link text-button text-white line-before line-white">{% trans "Music & Audio" %}</a>
                    </li>
                    <li class="category_item">
                        <a href="{% url 'services:service_list' %}?category=ai-services" class="category_link text-button text-white line-before line-white">{% trans "AI Services" %}</a>
                    </li>
                    <li class="category_item">
                        <a href="{% url 'services:service_list' %}?category=consulting" class="category_link text-button text-white line-before line-white">{% trans "Consulting" %}</a>
                    </li>
                    <li class="category_item">
                        <a href="{% url 'services:service_list' %}?category=photography" class="category_link text-button text-white line-before line-white">{% trans "Photography" %}</a>
                    </li>
                </ul>
            </div>
            <div class="slider_content flex flex-col items-start justify-center md:w-[637px] w-full h-full max-md:py-28">
                <h2 class="heading1 text-white animate animate_top" style="--i: 1">{% trans "Discover your next freelance solution today" %}</h2>
                <p class="body2 text-white mt-5 animate animate_top" style="--i: 2">{% trans "Effortlessly Discover Your Next Freelance Solution Today and Enhance Your Workflow Efficiency" %}</p>
                <div class="group_btn flex gap-5 md:mt-10 mt-7 animate animate_top" style="--i: 3">
                    <a href="{% url 'services:service_list' %}" class="button-main">{% trans "Find Work" %}</a>
                    <a href="#" class="button-main bg-white">{% trans "Find Talent" %}</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Brand / Trusted Companies Section -->
<section class="brand">
    <div class="container">
        <div class="brand_inner border-b border-line py-10">
            <h6 class="heading6 text-center">{% trans "Trusted by leading enterprise organizations and freelancers globally" %}</h6>
            <div class="swiper swiper-list-brand mt-6">
                <div class="swiper-wrapper">
                    {% if trusted_brands %}
                        {% for brand in trusted_brands %}
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{{ brand.logo.url }}" alt="{{ brand.name }}" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        {% endfor %}
                    {% else %}
                        {# Default brands if none provided #}
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/1.png' %}" alt="Brand 1" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/2.png' %}" alt="Brand 2" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/3.png' %}" alt="Brand 3" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/4.png' %}" alt="Brand 4" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/5.png' %}" alt="Brand 5" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/6.png' %}" alt="Brand 6" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/7.png' %}" alt="Brand 7" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Browse by Category - Using Reusable Component -->
{% include 'components/sections/categories_grid.html' with categories=service_categories %}

<!-- Feature Services Section -->
<section class="feature_services lg:py-20 sm:py-14 py-10">
    <div class="container">
        <div class="heading flex flex-col items-center">
            <h3 class="heading3 text-center animate animate_top" style="--i: 1">{% trans "Feature services" %}</h3>
            <p class="body2 text-secondary text-center mt-3 animate animate_top" style="--i: 2">
                {% trans "Discover our featured services designed to elevate your experience" %}
            </p>
        </div>

        <div class="list grid lg:grid-cols-3 sm:grid-cols-2 lg:gap-7.5 gap-6 md:mt-10 mt-7">
            {% for service in featured_services %}
            <a href="{% url 'services:service_detail' service.uuid %}" class="service_item block bg-white rounded-lg overflow-hidden shadow-md duration-300 hover:shadow-xl animate animate_top" style="--i: {{ forloop.counter }}">
                <div class="service_img relative w-full aspect-[4/3] overflow-hidden">
                    {% if service.image %}
                    <img src="{{ service.image.url }}" alt="{{ service.title }}" class="w-full h-full object-cover" />
                    {% else %}
                    <img src="{% static 'assets/images/service/placeholder.webp' %}" alt="{{ service.title }}" class="w-full h-full object-cover" />
                    {% endif %}
                </div>
                <div class="service_infor p-5">
                    <div class="provider flex items-center gap-2 mb-3">
                        {% if service.provider.profile.avatar %}
                        <img src="{{ service.provider.profile.avatar.url }}" alt="{{ service.provider.get_full_name }}" class="w-8 h-8 rounded-full object-cover" />
                        {% else %}
                        <div class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center text-xs font-medium">
                            {{ service.provider.first_name|first|upper }}
                        </div>
                        {% endif %}
                        <span class="text-sm text-secondary">{{ service.provider.get_full_name|truncatechars:20 }}</span>
                    </div>
                    <h5 class="heading5 line-clamp-2 mb-3">{{ service.title }}</h5>
                    <div class="flex items-center justify-between">
                        <div class="rating flex items-center gap-1">
                            <span class="ph-fill ph-star text-yellow-500"></span>
                            <span class="text-sm font-medium">{{ service.rating|default:"5.0" }}</span>
                            <span class="text-sm text-secondary">({{ service.reviews_count|default:"0" }})</span>
                        </div>
                        <div class="price">
                            <span class="text-sm text-secondary">{% trans "From" %}</span>
                            <strong class="heading6">${{ service.price }}</strong>
                        </div>
                    </div>
                </div>
            </a>
            {% empty %}
            <div class="col-span-full text-center py-10">
                <p class="body2 text-secondary">{% trans "No featured services available at the moment." %}</p>
            </div>
            {% endfor %}
        </div>

        <div class="view_all md:mt-10 mt-7 text-center">
            <a href="{% url 'services:service_list' %}" class="text-button pb-0.5 border-b-2 border-primary duration-300 hover:text-primary animate animate_top" style="--i: 2">
                {% trans "View All Services" %}
            </a>
        </div>
    </div>
</section>

<!-- Top Freelancers Section -->
<section class="top_freelancers lg:py-20 sm:py-14 py-10 bg-surface">
    <div class="container">
        <div class="heading flex flex-col items-center">
            <h3 class="heading3 text-center animate animate_top" style="--i: 1">{% trans "Top Rated Freelancers" %}</h3>
            <p class="body2 text-secondary text-center mt-3 animate animate_top" style="--i: 2">
                {% trans "Connect with our highly rated freelance professionals" %}
            </p>
        </div>

        <div class="list grid lg:grid-cols-4 sm:grid-cols-2 lg:gap-7.5 gap-6 md:mt-10 mt-7">
            {% for freelancer in top_providers %}
            <div class="freelancer_item bg-white rounded-lg p-6 text-center shadow-md duration-300 hover:shadow-xl animate animate_top" style="--i: {{ forloop.counter }}">
                <div class="avatar mx-auto w-20 h-20 rounded-full overflow-hidden mb-4">
                    {% if freelancer.profile.avatar %}
                    <img src="{{ freelancer.profile.avatar.url }}" alt="{{ freelancer.get_full_name }}" class="w-full h-full object-cover" />
                    {% else %}
                    <div class="w-full h-full bg-primary text-white flex items-center justify-center text-2xl font-medium">
                        {{ freelancer.first_name|first|upper }}
                    </div>
                    {% endif %}
                </div>
                <h6 class="heading6 mb-1">{{ freelancer.get_full_name }}</h6>
                <p class="text-sm text-secondary mb-3">{{ freelancer.profile.title|default:"Freelancer" }}</p>
                <div class="rating flex items-center justify-center gap-1 mb-4">
                    <span class="ph-fill ph-star text-yellow-500"></span>
                    <span class="text-sm font-medium">{{ freelancer.rating|default:"5.0" }}</span>
                </div>
                <a href="{% url 'accounts:profile_detail' freelancer.uuid %}" class="button-secondary w-full text-center py-2 rounded-lg">
                    {% trans "View Profile" %}
                </a>
            </div>
            {% empty %}
            <div class="col-span-full text-center py-10">
                <p class="body2 text-secondary">{% trans "No top-rated freelancers available at the moment." %}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta_section lg:py-20 sm:py-14 py-10">
    <div class="container">
        <div class="cta_inner bg-primary rounded-xl sm:p-10 p-7 text-center">
            <h3 class="heading3 text-white mb-4">{% trans "Ready to get started?" %}</h3>
            <p class="body2 text-white/90 mb-7 max-w-2xl mx-auto">
                {% trans "Join thousands of freelancers and employers who trust FreelanHub for their professional needs" %}
            </p>
            <div class="group_btn flex items-center justify-center gap-4">
                {% if user.is_authenticated %}
                    <a href="{% url 'dashboard:index' %}" class="button-main bg-white">{% trans "Go to Dashboard" %}</a>
                {% else %}
                    <a href="{% url 'account_signup' %}" class="button-main bg-white">{% trans "Sign Up Now" %}</a>
                    <a href="{% url 'account_login' %}" class="button-secondary border-white text-white hover:bg-white hover:text-primary">{% trans "Sign In" %}</a>
                {% endif %}
            </div>
        </div>
    </div>
</section>

{% endblock %}
