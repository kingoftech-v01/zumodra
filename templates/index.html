{% extends "base.html" %}
{% comment %}
=============================================================================
   ZUMODRA HOME PAGE
=============================================================================

   File: templates/index.html
   Purpose: Main homepage for the Zumodra platform

   Extends: base.html (canonical public base template)

   Features:
   - Hero slider with search functionality
   - Trusted brands carousel
   - Category listings
   - Featured services
   - Top freelancers showcase
   - CTA banner

   Author: Rhematek Solutions
   Last Updated: 2026-01-03
=============================================================================
{% endcomment %}
{% load static i18n %}

{% block title %}{% trans "Home" %} - Zumodra{% endblock %}

{% block meta_description %}{% trans "Zumodra - Verify. Recruit. Hire. Risk-Free. The trusted platform for verified freelancers and employers. Find top talent or your next opportunity today." %}{% endblock %}

{% block content %}
<!-- Platform Stats -->
{% if stats %}
<div class="text-sm text-gray-600 dark:text-gray-400">
    <span>{{ stats.total_companies }} {% trans "Companies" %}</span>
    <span class="mx-2">â€¢</span>
    <span>{{ stats.total_freelancers }} {% trans "Freelancers" %}</span>
</div>
{% endif %}

{% comment %} HERO SLIDER SECTION {% endcomment %}
<section class="slider">
    <div class="slider_inner relative md:h-[700px] max-md:py-28 overflow-hidden">
        <div class="slider_bg absolute top-0 left-0 w-full h-full z-[-1]" aria-hidden="true">
            <img src="{% static 'assets/images/slider/index.jpg' %}" alt="{% trans 'Hero background' %}" class="w-full h-full object-cover" />
            <div style="background-color: #000000; opacity: 0.5; width: 100%; height: 100%; position: absolute; top: 0; left: 0;"></div>
        </div>
        <div class="container h-full">
            <div class="slider_content flex flex-col items-start justify-center sm:pt-20 pt-16 md:w-[720px] w-full h-full">
                <h2 class="heading1 text-white animate animate_top" style="--i: 1">{% trans "Verify. Recruit. Hire. Risk-Free." %}</h2>
                <p class="body2 text-white mt-5 animate animate_top" style="--i: 2">{% trans "Find verified freelancers and top talent for any project. Build trust with bidirectional KYC verification." %}</p>
                {% url 'services:service_list' as job_search_url %}
                <div class="form_search z-[1] w-full md:mt-10 mt-7 animate animate_top" style="--i: 3">
                    <form class="form_inner flex items-center justify-between max-sm:flex-wrap gap-6 gap-y-4 relative w-full p-3 rounded-lg bg-white" action="{{ job_search_url|default:'#' }}" method="get">
                        <div class="form_input relative w-full">
                            <span class="icon_search ph-bold ph-magnifying-glass absolute top-1/2 -translate-y-1/2 left-2 text-xl"></span>
                            <input type="text" name="q" class="input_search w-full h-full pl-10" placeholder="{% trans 'Job title, keywords, or company' %}" />
                        </div>
                        <div class="select_block flex-shrink-0 sm:pr-16 pr-7 sm:pl-6 pl-3 sm:border-l border-line">
                            <div class="select">
                                <span class="selected" data-title="{% trans 'All Categories' %}">{% trans "All Categories" %}</span>
                                <ul class="list_option bg-white">
                                    <li data-item="{% trans 'Graphic & Design' %}">{% trans "Graphic & Design" %}</li>
                                    <li data-item="{% trans 'Writing & Translation' %}">{% trans "Writing & Translation" %}</li>
                                    <li data-item="{% trans 'Video & Animation' %}">{% trans "Video & Animation" %}</li>
                                    <li data-item="{% trans 'Digital Marketing' %}">{% trans "Digital Marketing" %}</li>
                                    <li data-item="{% trans 'Programming & Tech' %}">{% trans "Programming & Tech" %}</li>
                                </ul>
                            </div>
                            <span class="icon_down ph ph-caret-down sm:text-2xl text-xl right-0"></span>
                        </div>
                        <button type="submit" class="button-main max-sm:w-1/3 text-center flex-shrink-0">{% trans "Search" %}</button>
                    </form>
                </div>
                <div class="list_tags flex flex-wrap items-center gap-3 mt-5 animate animate_top" style="--i: 4">
                    <strong class="text-button-sm text-white">{% trans "Popular:" %}</strong>
                    <a href="{{ job_search_url|default:'#' }}?category=graphics" class="tag -small -border border-opacity-20 text-button-sm text-white hover:text-black hover:bg-white">{% trans "Graphics" %}</a>
                    <a href="{{ job_search_url|default:'#' }}?category=web" class="tag -small -border border-opacity-20 text-button-sm text-white hover:text-black hover:bg-white">{% trans "Website" %}</a>
                    <a href="{{ job_search_url|default:'#' }}?category=logo" class="tag -small -border border-opacity-20 text-button-sm text-white hover:text-black hover:bg-white">{% trans "Logo" %}</a>
                    <a href="{{ job_search_url|default:'#' }}?category=dev" class="tag -small -border border-opacity-20 text-button-sm text-white hover:text-black hover:bg-white">{% trans "Development" %}</a>
                </div>
            </div>
        </div>
    </div>
</section>

{% comment %} TRUSTED BRANDS SECTION {% endcomment %}
<section class="brand bg-surface py-7">
    <div class="container">
        <h6 class="heading6 text-center">{% trans "Trusted by leading enterprise organizations and freelancers globally" %}</h6>
                <div class="swiper swiper-list-brand mt-6">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/1.png' %}" alt="1" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/2.png' %}" alt="2" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/3.png' %}" alt="3" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/4.png' %}" alt="4" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/5.png' %}" alt="5" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/6.png' %}" alt="6" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                        <div class="swiper-slide flex items-center justify-center">
                            <div class="brand-item relative flex items-center justify-center sm:h-8 h-7.5 flex-shrink-0">
                                <img src="{% static 'assets/images/brand/7.png' %}" alt="7" class="h-full w-auto duration-500 relative object-cover" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

{% comment %} TOP CATEGORIES SECTION {% endcomment %}
<section class="top_categories lg:pt-20 sm:pt-14 pt-10">
    <div class="container">
        <div class="heading flex items-end justify-between flex-wrap gap-4">
            <div class="left animate animate_top" style="--i: 1">
                <h3 class="heading3">{% trans "Top Categories" %}</h3>
                <p class="body2 text-secondary mt-3">{% trans "Explore a wide range of services organized by category" %}</p>
            </div>
            <a href="{% url 'services:service_list' %}" class="text-button pb-0.5 border-b-2 border-primary duration-300 hover:text-primary animate animate_top" style="--i: 2">{% trans "All Categories" %}</a>
        </div>
        <div class="list grid xl:grid-cols-4 sm:grid-cols-2 grid-cols-1 gap-7.5 md:mt-10 mt-7">
            {% if categories %}
                {% for category in categories %}
                <div class="category_item p-7.5 rounded-20 bg-white shadow-md duration-300 hover:shadow-xl animate animate_top" style="--i: {{ forloop.counter }}">
                    <div class="icon pb-4 w-fit line-before line-2px">
                        <span class="{{ category.icon|default:'ph ph-squares-four' }} text-5xl" {% if category.color %}style="color: {{ category.color }}"{% endif %}></span>
                    </div>
                    <h6 class="heading6 mt-5">{{ category.name }}</h6>
                    <p class="text-secondary text-sm mt-2">{{ category.description|truncatechars:80 }}</p>
                    <div class="mt-3">
                        <span class="text-primary text-sm font-medium">{{ category.service_count }} {% trans "services" %}</span>
                    </div>
                    {% if category.subcategories.exists %}
                    <div class="list_category flex flex-col gap-2.5 mt-3">
                        {% for subcategory in category.subcategories.all|slice:":5" %}
                        <a href="{% url 'services:service_list' %}?category={{ subcategory.id }}" class="inline-block w-fit line-before text-secondary hover:text-black">{{ subcategory.name }}</a>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                {% endfor %}
            {% else %}
                {% comment %} Fallback static categories when database is empty {% endcomment %}
                <div class="category_item p-7.5 rounded-20 bg-white shadow-md duration-300 hover:shadow-xl animate animate_top" style="--i: 1">
                    <div class="icon pb-4 w-fit line-before line-2px">
                        <span class="ph ph-paint-brush text-5xl text-primary"></span>
                    </div>
                    <h6 class="heading6 mt-5">{% trans "Graphic & Design" %}</h6>
                    <p class="text-secondary text-sm mt-2">{% trans "Logo design, branding, illustrations and more" %}</p>
                </div>
                <div class="category_item p-7.5 rounded-20 bg-white shadow-md duration-300 hover:shadow-xl animate animate_top" style="--i: 2">
                    <div class="icon pb-4 w-fit line-before line-2px">
                        <span class="ph ph-code text-5xl text-primary"></span>
                    </div>
                    <h6 class="heading6 mt-5">{% trans "Development" %}</h6>
                    <p class="text-secondary text-sm mt-2">{% trans "Web, mobile, and software development" %}</p>
                </div>
                <div class="category_item p-7.5 rounded-20 bg-white shadow-md duration-300 hover:shadow-xl animate animate_top" style="--i: 3">
                    <div class="icon pb-4 w-fit line-before line-2px">
                        <span class="ph ph-megaphone text-5xl text-primary"></span>
                    </div>
                    <h6 class="heading6 mt-5">{% trans "Digital Marketing" %}</h6>
                    <p class="text-secondary text-sm mt-2">{% trans "SEO, social media, and advertising" %}</p>
                </div>
                <div class="category_item p-7.5 rounded-20 bg-white shadow-md duration-300 hover:shadow-xl animate animate_top" style="--i: 4">
                    <div class="icon pb-4 w-fit line-before line-2px">
                        <span class="ph ph-pencil-line text-5xl text-primary"></span>
                    </div>
                    <h6 class="heading6 mt-5">{% trans "Writing & Translation" %}</h6>
                    <p class="text-secondary text-sm mt-2">{% trans "Content writing, copywriting, and translation" %}</p>
                </div>
            {% endif %}
        </div>
    </div>
</section>

{% comment %} FEATURED SERVICES SECTION - DYNAMIC DATA {% endcomment %}
<section class="feature_services lg:py-20 sm:py-14 py-10">
    <div class="container">
        <div class="heading flex flex-col items-center">
            <h3 class="heading3 text-center animate animate_top" style="--i: 1">{% trans "Featured Services" %}</h3>
            <p class="body2 text-secondary text-center mt-3 animate animate_top" style="--i: 2">{% trans "Discover our featured services from verified providers" %}</p>
        </div>

        {% if featured_services %}
            {# Dynamic Services from Database #}
            <ul class="list grid xl:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 gap-7.5 md:mt-10 mt-7">
                {% for service in featured_services %}
                <li class="item animate animate_top" style="--i: {{ forloop.counter }}">
                    <div class="service_item overflow-hidden relative rounded-lg bg-white shadow-md duration-300 hover:shadow-xl">
                        <button class="add_wishlist_btn">
                            <span class="ph ph-heart text-xl"></span>
                            <span class="ph-fill ph-heart text-xl"></span>
                            <span class="blind">button add to wishlist</span>
                        </button>
                        {% url 'services:service_detail' service.uuid as service_url %}
                        <a href="{{ service_url|default:'#' }}" class="service_thumb">
                            {% if service.avatar %}
                            <img src="{{ service.avatar.url }}" alt="{{ service.name }}" class="w-full h-48 object-cover" />
                            {% else %}
                            <img src="{% static 'assets/images/service/placeholder.webp' %}" alt="{{ service.name }}" class="w-full h-48 object-cover" onerror="this.src='{% static 'assets/images/service/1.webp' %}';" />
                            {% endif %}
                        </a>
                        <div class="service_info py-5 px-4">
                            <div class="flex items-center justify-between">
                                {% if service.category_name %}
                                <a href="{% url 'services:service_list' %}?category={{ service.category_slug }}" class="tag caption2 bg-surface hover:bg-primary hover:text-white">{{ service.category_name }}</a>
                                {% else %}
                                <span class="tag caption2 bg-surface">{% trans "Service" %}</span>
                                {% endif %}
                                <div class="rate flex items-center gap-1">
                                    <span class="ph-fill ph-star text-yellow text-xs"></span>
                                    <strong class="service_rate text-button-sm">{{ service.rating_avg|default:0.0|floatformat:1 }}</strong>
                                    <span class="service_rate_quantity caption1 text-secondary">({{ service.total_reviews|default:0 }})</span>
                                </div>
                            </div>
                            <a href="{{ service_url|default:'#' }}" class="service_title text-title pt-2 duration-300 hover:text-primary line-clamp-2">{{ service.name|truncatewords:10 }}</a>
                            <div class="service_more_info flex items-center justify-between gap-1 mt-4 pt-4 border-t border-line">
                                <a href="#" class="service_author flex items-center gap-2">
                                    {% if service.provider_avatar %}
                                    <img src="{{ service.provider_avatar }}" alt="{{ service.provider_name }}" class="service_author_avatar w-8 h-8 rounded-full object-cover" />
                                    {% else %}
                                    <div class="service_author_avatar w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center">
                                        <span class="text-primary text-sm font-bold">{{ service.provider_name|slice:":1"|upper }}</span>
                                    </div>
                                    {% endif %}
                                    <span class="service_author_name -style-1">{{ service.provider_name|truncatewords:2 }}</span>
                                </a>
                                <div class="service_price whitespace-nowrap">
                                    <span class="text-secondary">{% trans "From" %} </span>
                                    <span class="price text-title">${{ service.price|default:0|floatformat:0 }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                {% endfor %}
            </ul>

            {# View All Services Button #}
            <div class="flex items-center justify-center md:mt-10 mt-7">
                <a href="{% url 'services:service_list' %}" class="button-main">{% trans "View All Services" %}</a>
            </div>
        {% else %}
            {# Empty State - No Services Available #}
            <div class="text-center py-16">
                <div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-surface mb-6">
                    <span class="ph ph-briefcase text-5xl text-secondary"></span>
                </div>
                <h4 class="heading5 text-secondary">{% trans "No Featured Services Yet" %}</h4>
                <p class="body2 text-secondary mt-3 max-w-md mx-auto">{% trans "Services will appear here once providers start offering them. Be the first to join our marketplace!" %}</p>
                <div class="flex items-center justify-center gap-4 mt-8">
                    <a href="{% url 'become_seller' %}" class="button-main">{% trans "Become a Service Provider" %}</a>
                    <a href="{% url 'services:service_list' %}" class="button-main -outline">{% trans "Browse All Services" %}</a>
                </div>
            </div>
        {% endif %}
    </div>
</section>
{% comment %} CTA BANNER SECTION {% endcomment %}
<section class="banner lg:pb-20 sm:pb-14 pb-10">
    <div class="container">
        <div class="banner_inner relative sm:px-16 px-8 py-16 overflow-hidden rounded-xl animate animateZoomOutUp" style="--i: 5">
            <div class="banner_bg absolute top-0 left-0 w-full h-full z-[-1]">
                <div style="background-color: #000000; opacity: 0.3; width: 100%; height: 100%; position: absolute; top: 0; left: 0;"></div>
                <img src="{% static 'assets/images/components/banner1.jpg' %}" alt="{% trans 'Join our community' %}" class="w-full h-full object-cover" />
            </div>
            <div class="banner_content">
                <h4 class="heading4 text-white animate animate_top" style="--i: 1">{% trans "Embrace Independence" %} <br class="max-sm:hidden" />{% trans "Start Your Freelance Journey Now" %}</h4>
                <p class="desc mt-2 text-white animate animate_top" style="--i: 2">{% trans "Connect with verified clients and get paid securely" %}</p>
                <div class="md:mt-7 mt-5 animate animate_top" style="--i: 3">
                    <a href="{% url 'become_seller' %}" class="button-main bg-white">{% trans "Become A Seller" %}</a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock content %}