{% extends "account/base.html" %}
{% load static %}
{% load widget_tweaks %}

{% load i18n %}
{% load account socialaccount %}

{% block head_title %}{% trans "Signup" %}{% endblock head_title %}

{% block breadcrumb %}
<!-- Breadcrumb -->
<section class="breadcrumb">
    <div class="breadcrumb_inner relative sm:mt-20 mt-16 lg:py-20 py-14">
        <div class="breadcrumb_bg absolute top-0 left-0 w-full h-full">
            <img src="{% static '/assets/images/components/breadcrumb_candidate.webp' %}" alt="breadcrumb_candidate" class="w-full h-full object-cover" />
        </div>
        <div class="container relative h-full">
            <div class="breadcrumb_content flex flex-col items-start justify-center xl:w-[1000px] lg:w-[848px] md:w-5/6 w-full h-full">
                <div class="list_breadcrumb flex items-center gap-2 animate animate_top" style="--i: 1">
                    <a href="{% url 'home' %}" class="caption1 text-white">Home</a>
                    <span class="caption1 text-white opacity-40">/</span>
                    <span class="caption1 text-white">Pages</span>
                    <span class="caption1 text-white opacity-40">/</span>
                    <span class="caption1 text-white opacity-60">Register</span>
                </div>
                <h3 class="heading3 text-white mt-2 animate animate_top" style="--i: 2">Register</h3>
            </div>
        </div>
    </div>
</section>
{% endblock breadcrumb %}

{% block content %}
<!-- Form Register -->
<section class="form_register lg:py-20 sm:py-14 py-10">
    <div class="container flex items-center justify-center">
        <div class="content sm:w-[448px] w-full">
            <h3 class="heading3 text-center mb-2" style="--i: 1">{% trans "Create a free account" %}</h3>
              <!-- Display form errors -->
              {% if form.errors %}
                <div class="bg-red-50 border border-red-200 rounded-md p-4 mb-4">
                  <strong class="text-red-800 font-semibold block mb-2">{% trans "Please correct the following errors:" %}</strong>
                  <ul class="list-disc list-inside space-y-1">
                    {% for field in form %}
                      {% for error in field.errors %}
                        <li class="text-gray-700">{{ error }}</li>
                      {% endfor %}
                    {% endfor %}
                    {% for error in form.non_field_errors %}
                      <li class="text-gray-700">{{ error }}</li>
                    {% endfor %}
                  </ul>
                </div>
              {% endif %}
              <!-- End display form errors -->
            <form class="form mt-6 signup" method="POST" id="signup_form" action="{% url 'account_signup' %}">
                {% csrf_token %}
                <div class="form-group mt-6">
                    <label for="{{ form.login.id_for_label }}">Email address*</label>
                    {{ form.email|add_class:"form-control w-full mt-3 border border-line px-4 h-[50px] rounded-lg" }}
                </div>
                <div class="form-group mt-6">
                    <label for="{{ form.first_name.id_for_label }}">First Name*</label>
                      {{ form.first_name|add_class:"form-control w-full mt-3 border border-line px-4 h-[50px] rounded-lg" }}
                </div>
                <div class="form-group mt-6">
                    <label for="{{ form.last_name.id_for_label }}">Last Name*</label>
                      {{ form.last_name|add_class:"form-control w-full mt-3 border border-line px-4 h-[50px] rounded-lg" }}
                </div>
                <div class="form-group mt-6">
                    <label for="{{ form.password1.id_for_label }}">Password*</label>
                      {{ form.password1|add_class:"form-control w-full mt-3 border border-line px-4 h-[50px] rounded-lg" }}
                </div>
                <div class="form-group mt-6">
                    <label for="{{ form.password2.id_for_label }}">Confirm Password*</label>
                      {{ form.password2|add_class:"form-control w-full mt-3 border border-line px-4 h-[50px] rounded-lg" }}
                </div>
                {% if redirect_field_value %}
                  <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                {% endif %}
                <div class="block-button mt-6">
                    <button class="button-main bg-primary w-full text-center primaryAction" type="submit">{% trans "Sign Up" %} <i class="fa fa-long-arrow-right"></i></button>
                </div>
                {% get_providers as socialaccount_providers %}

                {% if socialaccount_providers %}
                  <div class="option-title relative text-center py-6">
                      <span class="px-5 bg-white"><p>{% blocktrans with site.name as site_name %}Please sign in with one
                        of your existing third party accounts. Or, <a href="{{ login_url }}">sign in</a>
                        for a {{ site_name }} account and sign in below:{% endblocktrans %}</p></span>
                      <div class="line absolute top-1/2 -translate-y-1/2 left-0 w-full h-px bg-line z-[-1]"></div>
                  </div>
                  <div class="list-login grid sm:grid-cols-3 gap-3 socialaccount_ballot">
                    <ul class="socialaccount_providers">
                      {% include "socialaccount/snippets/provider_list.html" with process="login" %}
                    </ul>
                  </div>
                  {% include "socialaccount/snippets/login_extra.html" %}
                {% else %}
                  <div class="navigate flex items-center justify-center gap-2 mt-6">
                    <p><span class="text-surface1">{% blocktrans %}Already have an account? Then please</span>
                    <strong><a class="text-button hover:underline" href="{{ login_url }}">Sign In</a></strong>.{% endblocktrans %}</p>
                  </div>
                {% endif %}
            </form>
        </div>
    </div>
</section>
{% endblock content %}
