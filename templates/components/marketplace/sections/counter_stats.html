{% comment %} =============================================================================
   ZUMODRA COUNTER STATS SECTION COMPONENT
   =============================================================================

   File: templates/components/marketplace/sections/counter_stats.html
   Purpose: Display key metrics and statistics

   Usage:
   {% include "components/marketplace/sections/counter_stats.html" %}
   {% include "components/marketplace/sections/counter_stats.html" with stats=stats layout="icons" %}

   Parameters:
   - stats: List of stat objects with {value, label, icon} (optional, uses defaults)
   - layout: "default" (4-column) or "icons" (with icon badges)
   - bg_class: Background class (default: "bg-surface")

   Author: Rhematek Solutions
   Last Updated: 2026-01-03
   ============================================================================= {% endcomment %}

{% load i18n static humanize %}

{% if layout == "icons" %}
{% comment %} With Icons Layout (for dashboards) {% endcomment %}
<div class="list_counter grid 2xl:grid-cols-4 md:grid-cols-2 gap-6">
    {% for stat in stats %}
    <div class="counter_item flex items-center justify-between gap-4 p-6 rounded-lg bg-white shadow-sm">
        <div class="counter_content">
            <span class="text-secondary text-sm">{{ stat.label }}</span>
            <h4 class="heading4 mt-1">{{ stat.value|intcomma }}</h4>
            {% if stat.change %}
            <span class="text-sm {% if stat.change > 0 %}text-green-600{% else %}text-red-600{% endif %}">
                {% if stat.change > 0 %}+{% endif %}{{ stat.change }}%
            </span>
            {% endif %}
        </div>
        <div class="counter_icon flex-shrink-0 flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-primary to-primary/70">
            <span class="ph-fill {{ stat.icon|default:'ph-chart-line' }} text-3xl text-white"></span>
        </div>
    </div>
    {% empty %}
    {% comment %} Default stats if none provided {% endcomment %}
    <div class="counter_item flex items-center justify-between gap-4 p-6 rounded-lg bg-white shadow-sm">
        <div class="counter_content">
            <span class="text-secondary text-sm">{% trans 'Applied Jobs' %}</span>
            <h4 class="heading4 mt-1">5,672</h4>
        </div>
        <div class="counter_icon flex-shrink-0 flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-primary to-primary/70">
            <span class="ph-fill ph-briefcase text-3xl text-white"></span>
        </div>
    </div>
    <div class="counter_item flex items-center justify-between gap-4 p-6 rounded-lg bg-white shadow-sm">
        <div class="counter_content">
            <span class="text-secondary text-sm">{% trans 'Services Offered' %}</span>
            <h4 class="heading4 mt-1">4,212</h4>
        </div>
        <div class="counter_icon flex-shrink-0 flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-primary to-primary/70">
            <span class="ph-fill ph-notepad text-3xl text-white"></span>
        </div>
    </div>
    <div class="counter_item flex items-center justify-between gap-4 p-6 rounded-lg bg-white shadow-sm">
        <div class="counter_content">
            <span class="text-secondary text-sm">{% trans 'Profile Views' %}</span>
            <h4 class="heading4 mt-1">5,342</h4>
        </div>
        <div class="counter_icon flex-shrink-0 flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-primary to-primary/70">
            <span class="ph-fill ph-eye text-3xl text-white"></span>
        </div>
    </div>
    <div class="counter_item flex items-center justify-between gap-4 p-6 rounded-lg bg-white shadow-sm">
        <div class="counter_content">
            <span class="text-secondary text-sm">{% trans 'Total Reviews' %}</span>
            <h4 class="heading4 mt-1">4,214</h4>
        </div>
        <div class="counter_icon flex-shrink-0 flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-primary to-primary/70">
            <span class="ph-fill ph-thumbs-up text-3xl text-white"></span>
        </div>
    </div>
    {% endfor %}
</div>

{% else %}
{% comment %} Default Layout (4-column with dividers) {% endcomment %}
<section class="counter lg:py-16 sm:py-12 py-8 {{ bg_class|default:'bg-surface' }}">
    <div class="container flex max-lg:flex-wrap items-center justify-between max-lg:gap-y-8">
        {% for stat in stats %}
        <div class="item max-lg:flex max-lg:flex-col max-lg:w-1/2 text-center">
            <h2 class="heading2 pb-1">{{ stat.value }}</h2>
            <span class="body1 text-secondary">{{ stat.label }}</span>
        </div>
        {% if not forloop.last %}
        <div class="line flex-shrink-0 w-px h-20 bg-line max-lg:hidden"></div>
        {% endif %}
        {% empty %}
        {% comment %} Default stats if none provided {% endcomment %}
        <div class="item max-lg:flex max-lg:flex-col max-lg:w-1/2 text-center">
            <h2 class="heading2 pb-1">2.5M+</h2>
            <span class="body1 text-secondary">{% trans 'Jobs Available' %}</span>
        </div>
        <div class="line flex-shrink-0 w-px h-20 bg-line max-lg:hidden"></div>
        <div class="item max-lg:flex max-lg:flex-col max-lg:w-1/2 text-center">
            <h2 class="heading2 pb-1">177K+</h2>
            <span class="body1 text-secondary">{% trans 'New Jobs This Week' %}</span>
        </div>
        <div class="line flex-shrink-0 w-px h-20 bg-line max-lg:hidden"></div>
        <div class="item max-lg:flex max-lg:flex-col max-lg:w-1/2 text-center">
            <h2 class="heading2 pb-1">298K+</h2>
            <span class="body1 text-secondary">{% trans 'Companies Hiring' %}</span>
        </div>
        <div class="line flex-shrink-0 w-px h-20 bg-line max-lg:hidden"></div>
        <div class="item max-lg:flex max-lg:flex-col max-lg:w-1/2 text-center">
            <h2 class="heading2 pb-1">5M+</h2>
            <span class="body1 text-secondary">{% trans 'Total Freelancers' %}</span>
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}
