{% extends "base/freelanhub_dashboard_base.html" %}
{% load static i18n %}

{% block title %}{% trans "Post a Request" %} - FreelanHub{% endblock %}

{% block breadcrumb %}
<li class="flex items-center">
    <svg class="zu-icon--sm text-secondary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
    </svg>
    <a href="{% url 'my_requests' %}" class="ml-2 caption1 text-secondary hover:text-primary">
        {% trans "My Requests" %}
    </a>
</li>
<li class="flex items-center">
    <svg class="zu-icon--sm text-secondary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
    </svg>
    <span class="ml-2 caption1 text-secondary">{% trans "Post a Request" %}</span>
</li>
{% endblock %}

{% block page_title %}{% trans "Post a Service Request" %}{% endblock %}

{% block page_description %}
<p class="mt-1 caption2 text-secondary">
    {% trans "Describe what you need and receive proposals from providers." %}
</p>
{% endblock %}

{% block dashboard_content %}
<!-- Hiring Context Selector -->
{% include 'components/hiring_context_selector.html' with hiring_context=hiring_context %}
<div class="max-w-3xl">
    <form method="post" class="space-y-7.5">
        {% csrf_token %}

        <!-- Request Details -->
        <div class="zu-card">
            <div class="zu-card__header">
                <h3 class="zu-card__title">{% trans "Request Details" %}</h3>
            </div>
            <div class="zu-card__body">
                <div class="space-y-5">
                    <div class="zu-form-group">
                        <label for="title" class="zu-label zu-label--required">
                            {% trans "Title" %}
                        </label>
                        <input type="text"
                               name="title"
                               id="title"
                               required
                               maxlength="255"
                               class="zu-input"
                               placeholder="{% trans 'e.g., Need a modern website design' %}">
                    </div>

                    <div class="zu-form-group">
                        <label for="description" class="zu-label zu-label--required">
                            {% trans "Description" %}
                        </label>
                        <textarea name="description"
                                  id="description"
                                  rows="6"
                                  required
                                  class="zu-input zu-textarea"
                                  placeholder="{% trans 'Describe your project requirements in detail. Include goals, specifications, and any relevant information that will help providers understand your needs...' %}"></textarea>
                    </div>

                    <div class="zu-form-group">
                        <label for="company" class="zu-label">
                            {% trans "Company" %} <span class="text-secondary">({% trans "optional" %})</span>
                        </label>
                        <select name="company"
                                id="company"
                                class="zu-input zu-select">
                            <option value="">{% trans "Personal request" %}</option>
                            {% for company in companies %}
                            <option value="{{ company.id }}">{{ company.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Budget & Timeline -->
        <div class="zu-card">
            <div class="zu-card__header">
                <h3 class="zu-card__title">{% trans "Budget & Timeline" %}</h3>
            </div>
            <div class="zu-card__body">
                <div class="space-y-5">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-7.5">
                        <div class="zu-form-group">
                            <label for="budget_min" class="zu-label">
                                {% trans "Minimum Budget" %} ($)
                            </label>
                            <input type="number"
                                   name="budget_min"
                                   id="budget_min"
                                   min="0"
                                   step="0.01"
                                   class="zu-input"
                                   placeholder="100">
                        </div>

                        <div class="zu-form-group">
                            <label for="budget_max" class="zu-label">
                                {% trans "Maximum Budget" %} ($)
                            </label>
                            <input type="number"
                                   name="budget_max"
                                   id="budget_max"
                                   min="0"
                                   step="0.01"
                                   class="zu-input"
                                   placeholder="500">
                        </div>
                    </div>

                    <div class="zu-form-group">
                        <label for="deadline" class="zu-label">
                            {% trans "Deadline" %}
                        </label>
                        <input type="date"
                               name="deadline"
                               id="deadline"
                               class="zu-input">
                        <p class="mt-1 caption2 text-secondary">{% trans "When do you need this completed?" %}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Required Skills -->
        <div class="zu-card">
            <div class="zu-card__header">
                <h3 class="zu-card__title">{% trans "Required Skills" %}</h3>
            </div>
            <div class="zu-card__body">
                <p class="caption2 text-secondary mb-4">{% trans "Select the skills needed for this project." %}</p>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                    {% for skill in skills %}
                    <label class="zu-checkbox flex items-center p-3 border border-gray-200 rounded-lg hover:border-primary-500 cursor-pointer transition-colors">
                        <input type="checkbox" name="skills" value="{{ skill.id }}" class="zu-checkbox__input">
                        <span class="zu-checkbox__label">{{ skill.name }}</span>
                    </label>
                    {% empty %}
                    <p class="col-span-full caption2 text-secondary">{% trans "No skills available." %}</p>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- Submit -->
        <div class="flex items-center justify-end gap-4">
            <a href="{% url 'my_requests' %}" class="zu-btn zu-btn--secondary">
                {% trans "Cancel" %}
            </a>
            <button type="submit" class="zu-btn zu-btn--primary">
                {% trans "Post Request" %}
            </button>
        </div>
    </form>
</div>
{% endblock %}
