{% load static i18n %}

{# Pagination component for job listings #}
{% if jobs.has_other_pages %}
<div class="list_pagination flex items-center justify-center md:gap-5 gap-3 md:mt-12 mt-8">
    {# Previous Button #}
    {% if jobs.has_previous %}
    <a href="?page={{ jobs.previous_page_number }}{% if search %}&search={{ search }}{% endif %}{% if selected_category %}&category={{ selected_category }}{% endif %}{% if selected_location %}&location={{ selected_location }}{% endif %}{% if selected_job_type %}&job_type={{ selected_job_type }}{% endif %}{% if selected_remote %}&remote=true{% endif %}"
       class="item flex items-center justify-center w-11 h-11 border border-line rounded-lg duration-300 hover:bg-primary hover:text-white hover:border-primary">
        <span class="ph ph-caret-left text-xl"></span>
    </a>
    {% endif %}

    {# Page Numbers #}
    {% for num in jobs.paginator.page_range %}
        {% if jobs.number == num %}
        <span class="item flex items-center justify-center w-11 h-11 border border-primary bg-primary text-white rounded-lg">{{ num }}</span>
        {% elif num > jobs.number|add:'-3' and num < jobs.number|add:'3' %}
        <a href="?page={{ num }}{% if search %}&search={{ search }}{% endif %}{% if selected_category %}&category={{ selected_category }}{% endif %}{% if selected_location %}&location={{ selected_location }}{% endif %}{% if selected_job_type %}&job_type={{ selected_job_type }}{% endif %}{% if selected_remote %}&remote=true{% endif %}"
           class="item flex items-center justify-center w-11 h-11 border border-line rounded-lg duration-300 hover:bg-primary hover:text-white hover:border-primary">{{ num }}</a>
        {% endif %}
    {% endfor %}

    {# Next Button #}
    {% if jobs.has_next %}
    <a href="?page={{ jobs.next_page_number }}{% if search %}&search={{ search }}{% endif %}{% if selected_category %}&category={{ selected_category }}{% endif %}{% if selected_location %}&location={{ selected_location }}{% endif %}{% if selected_job_type %}&job_type={{ selected_job_type }}{% endif %}{% if selected_remote %}&remote=true{% endif %}"
       class="item flex items-center justify-center w-11 h-11 border border-line rounded-lg duration-300 hover:bg-primary hover:text-white hover:border-primary">
        <span class="ph ph-caret-right text-xl"></span>
    </a>
    {% endif %}
</div>
{% endif %}
