{% extends "base/freelanhub_base.html" %}
{% load static i18n humanize %}

{% block title %}{% trans "Browse Jobs" %} - Zumodra{% endblock %}
{% block meta_description %}{{ meta_description }}{% endblock %}

{% block content %}

{# Breadcrumb #}
{% include "careers/components/_breadcrumb.html" with title="Browse Jobs" heading="Find Your Dream Job" total_jobs=total_jobs %}

{# Jobs List Section #}
<section class="jobs_default lg:py-20 sm:py-14 py-10">
    <div class="container">
        {# Filter Bar with View Toggle #}
        {% include "careers/components/_filter_bar.html" with view_mode="grid" %}

        {# Jobs Grid #}
        {% if jobs %}
        <ul class="list_layout_cols list_jobs grid xl:grid-cols-3 sm:grid-cols-2 md:gap-7.5 gap-6 w-full md:mt-10 mt-7">
            {% for job in jobs %}
                {% include "careers/components/_job_card.html" %}
            {% endfor %}
        </ul>

        {# Pagination #}
        {% include "careers/components/_pagination.html" %}

        {% else %}
        {# No Jobs Found #}
        <div class="text-center py-16">
            <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="ph ph-briefcase text-4xl text-gray-400"></i>
            </div>
            <h3 class="heading5 mb-2">{% trans "No Jobs Found" %}</h3>
            <p class="text-secondary">
                {% if search or selected_category or selected_location or selected_job_type or selected_remote %}
                    {% trans "Try adjusting your filters to see more results." %}
                {% else %}
                    {% trans "There are currently no open positions. Check back later!" %}
                {% endif %}
            </p>
        </div>
        {% endif %}
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
// Wishlist functionality
document.querySelectorAll('.add_wishlist_btn').forEach(btn => {
    btn.addEventListener('click', function() {
        this.classList.toggle('active');
        // TODO: Add AJAX call to save wishlist
    });
});
</script>
{% endblock %}
