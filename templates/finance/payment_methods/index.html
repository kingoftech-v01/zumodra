{% extends "base/freelanhub_dashboard_base.html" %}
{% load static i18n %}

{% block page_title %}Payment Methods{% endblock %}

{% block dashboard_content %}
<!-- Breadcrumb -->
<div class="breadcrumb flex items-center gap-2 mb-6">
    <a href="{% url 'finance-frontend:dashboard' %}" class="text-secondary hover:text-primary caption1">{% trans "Finance" %}</a>
    <span class="ph ph-caret-right text-secondary"></span>
    <span class="text-title caption1">{% trans "Payment Methods" %}</span>
</div>

<!-- Page Header -->
<div class="heading flex items-center justify-between mb-7.5">
    <div>
        <h3 class="heading3">{% trans "Payment Methods" %}</h3>
        <p class="caption1 text-secondary mt-1">{% trans "Manage your saved payment methods" %}</p>
    </div>
    <button hx-get="{% url 'finance-frontend:payment-method-form' %}"
            hx-target="#modal-container"
            hx-swap="innerHTML"
            class="button-main flex items-center gap-2">
        <span class="ph ph-plus text-lg"></span>
        {% trans "Add Payment Method" %}
    </button>
</div>

<!-- Tenant Type Badge -->
{% if request.tenant %}
<div class="mb-7.5">
    {% if request.tenant.tenant_type == 'company' %}
        <span class="tag bg-blue bg-opacity-10 text-blue">
            <span class="ph ph-buildings text-lg mr-1"></span>
            {% trans "Company" %}
        </span>
    {% else %}
        <span class="tag bg-green bg-opacity-10 text-green">
            <span class="ph ph-user text-lg mr-1"></span>
            {% trans "Freelancer" %}
        </span>
    {% endif %}
</div>
{% endif %}

<!-- Payment Methods List -->
<div id="payment-methods-list"
     hx-get="{% url 'finance-frontend:payment-method-list' %}"
     hx-trigger="load"
     hx-swap="innerHTML">
    {% include "finance/partials/_payment_method_list.html" %}
</div>

<!-- Security Notice -->
<div class="p-6 rounded-lg bg-surface mt-7.5">
    <div class="flex gap-4">
        <span class="ph ph-lock text-secondary text-2xl"></span>
        <div>
            <h4 class="heading6 mb-1">{% trans "Secure Payment Processing" %}</h4>
            <p class="caption1 text-secondary">
                {% trans "Your payment information is securely stored and processed by Stripe. We never store your full card number on our servers." %}
            </p>
        </div>
    </div>
</div>
{% endblock %}
