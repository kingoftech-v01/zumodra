{% extends "emails/base/base_email.html" %}
{% load i18n %}

{% block title %}{% trans "Application Status Update" %}{% endblock %}

{% block preheader_text %}{% trans "Your application status has been updated." %}{% endblock %}

{% block email_content %}
{% comment %} Greeting {% endcomment %}
<table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
        <td style="padding-bottom: 20px;">
            <h1 style="margin: 0; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 24px; font-weight: 600; color: #1e293b; line-height: 1.3;">
                {% trans "Application Status Update" %}
            </h1>
        </td>
    </tr>
    <tr>
        <td style="padding-bottom: 24px;">
            <p style="margin: 0; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px; color: #475569; line-height: 1.6;">
                {% blocktrans %}Hi {{ candidate_name }}, your application for <strong>{{ job_title }}</strong> at <strong>{{ company_name }}</strong> has been updated.{% endblocktrans %}
            </p>
        </td>
    </tr>
</table>

{% comment %} Status update card {% endcomment %}
<table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
        <td style="background-color: #f8fafc; border-radius: 8px; padding: 24px; margin-bottom: 24px;">
            <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td style="padding-bottom: 16px;">
                        <span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px; font-weight: 600; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">
                            {% trans "New Status" %}
                        </span>
                    </td>
                </tr>
                <tr>
                    <td style="padding-bottom: 20px;">
                        <table role="presentation" cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td style="background-color: {% if status == 'shortlisted' %}#dcfce7{% elif status == 'interview' %}#dbeafe{% elif status == 'offer' %}#fef9c3{% elif status == 'rejected' %}#fee2e2{% else %}#f1f5f9{% endif %}; border-radius: 20px; padding: 8px 16px;">
                                    <span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 600; color: {% if status == 'shortlisted' %}#166534{% elif status == 'interview' %}#1e40af{% elif status == 'offer' %}#854d0e{% elif status == 'rejected' %}#991b1b{% else %}#475569{% endif %};">
                                        {{ status_display }}
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                {% if status_message %}
                <tr>
                    <td style="border-top: 1px solid #e2e8f0; padding-top: 16px;">
                        <p style="margin: 0; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; color: #475569; line-height: 1.6;">
                            {{ status_message }}
                        </p>
                    </td>
                </tr>
                {% endif %}
            </table>
        </td>
    </tr>
</table>

{% comment %} Position details {% endcomment %}
<table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
        <td style="padding: 24px 0;">
            <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td style="padding-bottom: 12px;">
                        <span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px; font-weight: 600; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">
                            {% trans "Position" %}
                        </span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 18px; font-weight: 600; color: #1e293b;">
                            {{ job_title }}
                        </span><br>
                        <span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; color: #64748b;">
                            {{ company_name }} &bull; {{ job_location|default:"Remote" }}
                        </span>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

{% comment %} CTA Button {% endcomment %}
<table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
        <td align="center" style="padding: 10px 0 20px;">
            <table role="presentation" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td align="center" style="background-color: #2563eb; border-radius: 6px;">
                        <a href="{{ dashboard_url }}" class="btn-primary" style="display: inline-block; padding: 14px 32px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px; font-weight: 600; color: #ffffff; text-decoration: none; border-radius: 6px;">
                            {% trans "View Application" %}
                        </a>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
{% endblock %}

{% block email_reason %}
{% trans "You received this email because you applied for a position through Zumodra." %}
{% endblock %}
