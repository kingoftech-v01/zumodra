# Generated by Django 5.2.7 on 2026-01-02 10:10

import django.core.validators
import phonenumber_field.modelfields
import uuid
from decimal import Decimal
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='CandidateCV',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('name', models.CharField(help_text='e.g., "Software Engineer", "Data Analyst"', max_length=100)),
                ('slug', models.SlugField(max_length=100)),
                ('is_primary', models.BooleanField(default=False, help_text='Primary/default CV')),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('active', 'Active'), ('archived', 'Archived')], default='draft', max_length=20)),
                ('target_job_types', models.JSONField(blank=True, default=list, help_text='Job types this CV is optimized for')),
                ('target_industries', models.JSONField(blank=True, default=list)),
                ('target_keywords', models.JSONField(blank=True, default=list)),
                ('summary', models.TextField(blank=True, help_text='Professional summary')),
                ('headline', models.CharField(blank=True, max_length=255)),
                ('skills', models.JSONField(blank=True, default=list, help_text='Skills emphasized in this CV version')),
                ('highlighted_skills', models.JSONField(blank=True, default=list, help_text='Top skills to highlight')),
                ('included_experiences', models.JSONField(blank=True, default=list, help_text='IDs of EmploymentVerification to include')),
                ('experience_order', models.JSONField(blank=True, default=list, help_text='Custom ordering of experiences')),
                ('included_education', models.JSONField(blank=True, default=list, help_text='IDs of EducationVerification to include')),
                ('projects', models.JSONField(blank=True, default=list, help_text='Project entries for this CV')),
                ('certifications', models.JSONField(blank=True, default=list)),
                ('cv_file', models.FileField(blank=True, help_text='Uploaded CV file. Allowed formats: PDF, DOC, DOCX, RTF, TXT. Max size: 10MB', null=True, upload_to='candidate_cvs/', validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['pdf', 'doc', 'docx', 'rtf', 'txt'])])),
                ('cv_file_parsed', models.JSONField(blank=True, default=dict, help_text='Parsed content from uploaded file')),
                ('ai_score', models.DecimalField(blank=True, decimal_places=2, help_text='AI quality score', max_digits=5, null=True)),
                ('ai_feedback', models.JSONField(blank=True, default=dict, help_text='AI-generated feedback')),
                ('ats_compatibility_score', models.DecimalField(blank=True, decimal_places=2, help_text='ATS-safe formatting score', max_digits=5, null=True)),
                ('last_analyzed_at', models.DateTimeField(blank=True, null=True)),
                ('times_used', models.PositiveIntegerField(default=0)),
                ('last_used_at', models.DateTimeField(blank=True, null=True)),
                ('applications_count', models.PositiveIntegerField(default=0)),
                ('interview_rate', models.DecimalField(blank=True, decimal_places=2, help_text='Percentage of applications that led to interviews', max_digits=5, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Candidate CV',
                'verbose_name_plural': 'Candidate CVs',
                'ordering': ['-is_primary', '-updated_at'],
            },
        ),
        migrations.CreateModel(
            name='CoopTerm',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('term_number', models.PositiveSmallIntegerField()),
                ('term_name', models.CharField(blank=True, max_length=50)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('status', models.CharField(choices=[('searching', 'Searching'), ('matched', 'Matched with Employer'), ('confirmed', 'Confirmed'), ('in_progress', 'In Progress'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='searching', max_length=20)),
                ('employer_name', models.CharField(blank=True, max_length=255)),
                ('job_title', models.CharField(blank=True, max_length=255)),
                ('job_description', models.TextField(blank=True)),
                ('location', models.CharField(blank=True, max_length=255)),
                ('is_remote', models.BooleanField(default=False)),
                ('hourly_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('currency', models.CharField(default='CAD', max_length=3)),
                ('employer_evaluation', models.JSONField(blank=True, default=dict)),
                ('employer_rating', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True)),
                ('student_evaluation', models.JSONField(blank=True, default=dict)),
                ('student_rating', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True)),
                ('work_term_report', models.FileField(blank=True, null=True, upload_to='coop_reports/')),
                ('school_approved', models.BooleanField(default=False)),
                ('school_approved_by', models.CharField(blank=True, max_length=255)),
                ('school_approved_at', models.DateTimeField(blank=True, null=True)),
                ('school_notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Co-op Term',
                'verbose_name_plural': 'Co-op Terms',
                'ordering': ['student', 'term_number'],
            },
        ),
        migrations.CreateModel(
            name='DataAccessLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False)),
                ('data_category', models.CharField(max_length=20)),
                ('data_fields', models.JSONField(default=list, help_text='List of specific fields accessed')),
                ('access_reason', models.TextField(blank=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('endpoint', models.CharField(blank=True, max_length=255)),
                ('accessed_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Data Access Log',
                'verbose_name_plural': 'Data Access Logs',
                'ordering': ['-accessed_at'],
            },
        ),
        migrations.CreateModel(
            name='EducationVerification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('institution_name', models.CharField(max_length=255)),
                ('institution_type', models.CharField(choices=[('university', 'University'), ('college', 'College'), ('high_school', 'High School'), ('vocational', 'Vocational School'), ('online', 'Online Institution'), ('other', 'Other')], default='university', max_length=20)),
                ('degree_type', models.CharField(choices=[('high_school', 'High School Diploma'), ('certificate', 'Certificate'), ('diploma', 'Diploma'), ('associate', 'Associate Degree'), ('bachelor', "Bachelor's Degree"), ('master', "Master's Degree"), ('doctorate', 'Doctorate/PhD'), ('professional', 'Professional Degree')], default='bachelor', max_length=20)),
                ('field_of_study', models.CharField(max_length=255)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField(blank=True, null=True)),
                ('is_current', models.BooleanField(default=False)),
                ('graduated', models.BooleanField(default=True)),
                ('gpa', models.DecimalField(blank=True, decimal_places=2, max_digits=4, null=True)),
                ('honors', models.CharField(blank=True, max_length=100)),
                ('registrar_email', models.EmailField(blank=True, max_length=254)),
                ('institution_domain', models.CharField(blank=True, max_length=255)),
                ('student_id', models.CharField(blank=True, max_length=50)),
                ('verification_method', models.CharField(blank=True, choices=[('email', 'Email to Registrar'), ('api', 'Academic API/Partner'), ('portal', 'Student Portal Login'), ('transcript', 'Transcript Upload'), ('manual', 'Manual Verification')], max_length=20)),
                ('status', models.CharField(choices=[('unverified', 'Unverified'), ('pending', 'Verification Pending'), ('in_progress', 'In Progress'), ('verified', 'Verified'), ('disputed', 'Disputed'), ('unable', 'Unable to Verify'), ('expired', 'Verification Expired')], default='unverified', max_length=20)),
                ('verification_token', models.CharField(blank=True, max_length=255, unique=True)),
                ('token_expires_at', models.DateTimeField(blank=True, null=True)),
                ('transcript_file', models.FileField(blank=True, null=True, upload_to='education_transcripts/')),
                ('diploma_file', models.FileField(blank=True, null=True, upload_to='education_diplomas/')),
                ('verified_by', models.CharField(blank=True, max_length=255)),
                ('verification_response', models.JSONField(blank=True, default=dict)),
                ('degree_confirmed', models.BooleanField(blank=True, null=True)),
                ('dates_confirmed', models.BooleanField(blank=True, null=True)),
                ('graduation_confirmed', models.BooleanField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('request_sent_at', models.DateTimeField(blank=True, null=True)),
                ('verified_at', models.DateTimeField(blank=True, null=True)),
                ('expires_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Education Verification',
                'verbose_name_plural': 'Education Verifications',
                'ordering': ['-end_date', '-start_date'],
            },
        ),
        migrations.CreateModel(
            name='EmploymentVerification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('company_name', models.CharField(max_length=255)),
                ('job_title', models.CharField(max_length=255)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField(blank=True, help_text='Leave blank if current', null=True)),
                ('is_current', models.BooleanField(default=False)),
                ('employment_type', models.CharField(choices=[('full_time', 'Full-time'), ('part_time', 'Part-time'), ('contract', 'Contract'), ('intern', 'Internship'), ('freelance', 'Freelance')], default='full_time', max_length=20)),
                ('description', models.TextField(blank=True)),
                ('hr_contact_email', models.EmailField(blank=True, help_text='Official HR or manager email for verification', max_length=254)),
                ('hr_contact_name', models.CharField(blank=True, max_length=255)),
                ('hr_contact_phone', models.CharField(blank=True, max_length=30)),
                ('company_domain', models.CharField(blank=True, help_text='Company email domain for validation', max_length=255)),
                ('status', models.CharField(choices=[('unverified', 'Unverified'), ('pending', 'Verification Pending'), ('in_progress', 'In Progress'), ('verified', 'Verified'), ('disputed', 'Disputed'), ('unable', 'Unable to Verify'), ('expired', 'Verification Expired')], default='unverified', max_length=20)),
                ('verification_token', models.CharField(blank=True, max_length=255, unique=True)),
                ('token_expires_at', models.DateTimeField(blank=True, null=True)),
                ('verified_by_email', models.EmailField(blank=True, max_length=254)),
                ('verified_by_name', models.CharField(blank=True, max_length=255)),
                ('verification_response', models.JSONField(blank=True, default=dict, help_text='Structured questionnaire response')),
                ('response_notes', models.TextField(blank=True)),
                ('dates_confirmed', models.BooleanField(blank=True, null=True)),
                ('title_confirmed', models.BooleanField(blank=True, null=True)),
                ('eligible_for_rehire', models.BooleanField(blank=True, null=True)),
                ('performance_rating', models.CharField(blank=True, max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('request_sent_at', models.DateTimeField(blank=True, null=True)),
                ('reminder_sent_at', models.DateTimeField(blank=True, null=True)),
                ('verified_at', models.DateTimeField(blank=True, null=True)),
                ('expires_at', models.DateTimeField(blank=True, help_text='Verification expiry (typically 2 years)', null=True)),
            ],
            options={
                'verbose_name': 'Employment Verification',
                'verbose_name_plural': 'Employment Verifications',
                'ordering': ['-start_date'],
            },
        ),
        migrations.CreateModel(
            name='KYCVerification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('verification_type', models.CharField(choices=[('identity', 'Identity Verification'), ('address', 'Address Verification'), ('employment', 'Employment Verification'), ('education', 'Education Verification'), ('background', 'Background Check'), ('business', 'Business Verification')], max_length=20)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('in_progress', 'In Progress'), ('verified', 'Verified'), ('rejected', 'Rejected'), ('expired', 'Expired'), ('requires_update', 'Requires Update')], default='pending', max_length=20)),
                ('level', models.CharField(choices=[('basic', 'Basic (Email + Phone)'), ('standard', 'Standard (ID Verification)'), ('enhanced', 'Enhanced (Background Check)'), ('complete', 'Complete (Full Verification)')], default='basic', max_length=20)),
                ('provider', models.CharField(blank=True, help_text='KYC provider (e.g., Onfido, Jumio)', max_length=50)),
                ('provider_reference_id', models.CharField(blank=True, max_length=255)),
                ('provider_response', models.JSONField(blank=True, default=dict)),
                ('document_type', models.CharField(blank=True, max_length=50)),
                ('document_number_hash', models.CharField(blank=True, help_text='Hashed document number for security', max_length=255)),
                ('document_country', models.CharField(blank=True, max_length=100)),
                ('document_expiry', models.DateField(blank=True, null=True)),
                ('confidence_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('verified_data', models.JSONField(blank=True, default=dict, help_text='Verified information from KYC provider')),
                ('rejection_reason', models.TextField(blank=True)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('submitted_at', models.DateTimeField(blank=True, null=True)),
                ('verified_at', models.DateTimeField(blank=True, null=True)),
                ('expires_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'KYC Verification',
                'verbose_name_plural': 'KYC Verifications',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='LoginHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('result', models.CharField(choices=[('success', 'Success'), ('failed', 'Failed'), ('blocked', 'Blocked'), ('mfa_required', 'MFA Required')], max_length=20)),
                ('ip_address', models.GenericIPAddressField()),
                ('user_agent', models.TextField(blank=True)),
                ('location', models.JSONField(blank=True, default=dict)),
                ('device_fingerprint', models.CharField(blank=True, max_length=255)),
                ('failure_reason', models.CharField(blank=True, max_length=100)),
                ('timestamp', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Login History',
                'verbose_name_plural': 'Login Histories',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='ProgressiveConsent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('data_category', models.CharField(choices=[('basic', 'Basic Info (Name, Title)'), ('contact', 'Contact Info (Email, Phone)'), ('resume', 'Resume/CV'), ('detailed', 'Detailed Profile'), ('personal', 'Personal Info (DOB, Address)'), ('sensitive', 'Sensitive Data (NAS, Medical)'), ('references', 'References'), ('salary', 'Salary Expectations'), ('background', 'Background Check Results')], max_length=20)),
                ('status', models.CharField(choices=[('not_requested', 'Not Requested'), ('pending', 'Pending'), ('granted', 'Granted'), ('denied', 'Denied'), ('revoked', 'Revoked'), ('expired', 'Expired')], default='not_requested', max_length=20)),
                ('context_type', models.CharField(blank=True, max_length=50)),
                ('context_id', models.PositiveIntegerField(blank=True, null=True)),
                ('purpose', models.TextField(blank=True, help_text='Purpose for data access')),
                ('requested_at', models.DateTimeField(blank=True, null=True)),
                ('responded_at', models.DateTimeField(blank=True, null=True)),
                ('expires_at', models.DateTimeField(blank=True, null=True)),
                ('revoked_at', models.DateTimeField(blank=True, null=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Progressive Consent',
                'verbose_name_plural': 'Progressive Consents',
                'ordering': ['-requested_at'],
            },
        ),
        migrations.CreateModel(
            name='Review',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('review_type', models.CharField(choices=[('emp_to_cand', 'Employer reviewing Candidate'), ('cand_to_emp', 'Candidate reviewing Employer'), ('cli_to_free', 'Client reviewing Freelancer'), ('free_to_cli', 'Freelancer reviewing Client')], max_length=20)),
                ('context_type', models.CharField(blank=True, help_text='e.g., job_application, contract, project', max_length=50)),
                ('context_id', models.PositiveIntegerField(blank=True, null=True)),
                ('overall_rating', models.PositiveSmallIntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('communication_rating', models.PositiveSmallIntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('professionalism_rating', models.PositiveSmallIntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('quality_rating', models.PositiveSmallIntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('timeliness_rating', models.PositiveSmallIntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('would_recommend', models.BooleanField(blank=True, null=True)),
                ('would_work_again', models.BooleanField(blank=True, null=True)),
                ('title', models.CharField(blank=True, max_length=255)),
                ('content', models.TextField()),
                ('pros', models.TextField(blank=True)),
                ('cons', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('published', 'Published'), ('under_review', 'Under Review'), ('disputed', 'Disputed'), ('validated', 'Validated'), ('rejected', 'Rejected'), ('hidden', 'Hidden')], default='pending', max_length=20)),
                ('is_negative', models.BooleanField(default=False)),
                ('ai_analysis', models.JSONField(blank=True, default=dict, help_text='AI analysis of review content')),
                ('ai_flagged', models.BooleanField(default=False, help_text='AI flagged for policy violation')),
                ('ai_confidence_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('requires_verification', models.BooleanField(default=False)),
                ('evidence_submitted', models.JSONField(blank=True, default=list)),
                ('reviewee_response', models.TextField(blank=True)),
                ('reviewee_evidence', models.JSONField(blank=True, default=list)),
                ('mediation_notes', models.TextField(blank=True)),
                ('mediation_outcome', models.CharField(blank=True, max_length=50)),
                ('trust_impact_applied', models.BooleanField(default=False)),
                ('trust_impact_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('published_at', models.DateTimeField(blank=True, null=True)),
                ('disputed_at', models.DateTimeField(blank=True, null=True)),
                ('resolved_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Review',
                'verbose_name_plural': 'Reviews',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SecurityQuestion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('question', models.CharField(max_length=255)),
                ('answer_hash', models.CharField(help_text='Hashed answer', max_length=255)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('last_used_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Security Question',
                'verbose_name_plural': 'Security Questions',
            },
        ),
        migrations.CreateModel(
            name='StudentProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('student_type', models.CharField(choices=[('university', 'University Student'), ('college', 'College Student'), ('high_school', 'High School Student'), ('vocational', 'Vocational/Trade Student'), ('bootcamp', 'Bootcamp Student')], default='university', max_length=20)),
                ('program_type', models.CharField(choices=[('coop', 'Co-op Program'), ('internship', 'Internship'), ('apprenticeship', 'Apprenticeship'), ('work_study', 'Work Study'), ('capstone', 'Capstone Project')], default='coop', max_length=20)),
                ('institution_name', models.CharField(max_length=255)),
                ('institution_type', models.CharField(blank=True, max_length=50)),
                ('institution_email_domain', models.CharField(blank=True, help_text='e.g., uwaterloo.ca', max_length=255)),
                ('student_email', models.EmailField(blank=True, help_text='Institutional email for verification', max_length=254)),
                ('student_id', models.CharField(blank=True, max_length=50)),
                ('program_name', models.CharField(max_length=255)),
                ('faculty', models.CharField(blank=True, max_length=255)),
                ('major', models.CharField(max_length=255)),
                ('minor', models.CharField(blank=True, max_length=255)),
                ('expected_graduation', models.DateField(blank=True, null=True)),
                ('current_year', models.PositiveSmallIntegerField(blank=True, help_text='Current year of study (1-6)', null=True)),
                ('current_term', models.CharField(blank=True, max_length=20)),
                ('enrollment_status', models.CharField(choices=[('active', 'Currently Enrolled'), ('on_coop', 'On Co-op Term'), ('graduated', 'Graduated'), ('withdrawn', 'Withdrawn'), ('suspended', 'Suspended')], default='active', max_length=20)),
                ('enrollment_verified', models.BooleanField(default=False)),
                ('enrollment_verified_at', models.DateTimeField(blank=True, null=True)),
                ('coop_sequence', models.CharField(blank=True, help_text='Co-op sequence (e.g., "4-stream", "8-month")', max_length=50)),
                ('work_terms_completed', models.PositiveSmallIntegerField(default=0)),
                ('work_terms_required', models.PositiveSmallIntegerField(default=0)),
                ('next_work_term_start', models.DateField(blank=True, null=True)),
                ('next_work_term_end', models.DateField(blank=True, null=True)),
                ('gpa', models.DecimalField(blank=True, decimal_places=2, max_digits=4, null=True)),
                ('gpa_scale', models.DecimalField(decimal_places=1, default=Decimal('4.0'), max_digits=3)),
                ('gpa_verified', models.BooleanField(default=False)),
                ('skills', models.JSONField(blank=True, default=list)),
                ('interests', models.JSONField(blank=True, default=list)),
                ('preferred_industries', models.JSONField(blank=True, default=list)),
                ('preferred_locations', models.JSONField(blank=True, default=list)),
                ('remote_preference', models.CharField(choices=[('on_site', 'On-site only'), ('remote', 'Remote only'), ('hybrid', 'Hybrid'), ('flexible', 'Flexible')], default='flexible', max_length=20)),
                ('work_authorization', models.CharField(blank=True, choices=[('citizen', 'Citizen'), ('permanent_resident', 'Permanent Resident'), ('study_permit', 'Study Permit with Work Authorization'), ('no_authorization', 'No Work Authorization')], max_length=50)),
                ('work_permit_expiry', models.DateField(blank=True, null=True)),
                ('coordinator_name', models.CharField(blank=True, max_length=255)),
                ('coordinator_email', models.EmailField(blank=True, max_length=254)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Student Profile',
                'verbose_name_plural': 'Student Profiles',
            },
        ),
        migrations.CreateModel(
            name='TenantUser',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('role', models.CharField(choices=[('owner', 'Owner/PDG'), ('admin', 'Administrator'), ('hr_manager', 'HR Manager'), ('recruiter', 'Recruiter'), ('hiring_manager', 'Hiring Manager'), ('employee', 'Employee'), ('viewer', 'Viewer (Read-only)')], default='employee', max_length=20)),
                ('job_title', models.CharField(blank=True, max_length=100)),
                ('is_active', models.BooleanField(default=True)),
                ('is_primary_tenant', models.BooleanField(default=False, help_text="Is this the user's primary tenant?")),
                ('joined_at', models.DateTimeField(auto_now_add=True)),
                ('last_active_at', models.DateTimeField(blank=True, null=True)),
                ('deactivated_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Tenant User',
                'verbose_name_plural': 'Tenant Users',
                'ordering': ['-joined_at'],
            },
        ),
        migrations.CreateModel(
            name='TrustScore',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('entity_type', models.CharField(choices=[('candidate', 'Candidate/Freelancer'), ('employer', 'Employer/Client'), ('institution', 'School/Institution')], default='candidate', max_length=20)),
                ('trust_level', models.CharField(choices=[('new', 'New to Platform'), ('basic', 'Basic Trust'), ('verified', 'Verified'), ('high', 'High Trust'), ('premium', 'Premium Trust')], default='new', max_length=20)),
                ('overall_score', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Overall trust score 0-100', max_digits=5)),
                ('identity_score', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='KYC/Identity verification score', max_digits=5)),
                ('career_score', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Employment + Education verification score', max_digits=5)),
                ('activity_score', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Platform activity and engagement score', max_digits=5)),
                ('review_score', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average review rating score', max_digits=5)),
                ('dispute_score', models.DecimalField(decimal_places=2, default=Decimal('100.00'), help_text='Dispute history score (starts at 100, decreases with disputes)', max_digits=5)),
                ('payment_score', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Payment reliability score (for employers)', max_digits=5)),
                ('is_id_verified', models.BooleanField(default=False, help_text='Level 1: KYC verified')),
                ('is_career_verified', models.BooleanField(default=False, help_text='Level 2: 80%+ career verified')),
                ('verified_employment_count', models.PositiveIntegerField(default=0)),
                ('verified_education_count', models.PositiveIntegerField(default=0)),
                ('total_employment_count', models.PositiveIntegerField(default=0)),
                ('total_education_count', models.PositiveIntegerField(default=0)),
                ('completed_jobs', models.PositiveIntegerField(default=0)),
                ('total_contracts', models.PositiveIntegerField(default=0)),
                ('successful_hires', models.PositiveIntegerField(default=0)),
                ('on_time_deliveries', models.PositiveIntegerField(default=0)),
                ('total_reviews', models.PositiveIntegerField(default=0)),
                ('positive_reviews', models.PositiveIntegerField(default=0)),
                ('negative_reviews', models.PositiveIntegerField(default=0)),
                ('average_rating', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=3)),
                ('total_disputes', models.PositiveIntegerField(default=0)),
                ('disputes_won', models.PositiveIntegerField(default=0)),
                ('disputes_lost', models.PositiveIntegerField(default=0)),
                ('disputes_pending', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('last_calculated_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Trust Score',
                'verbose_name_plural': 'Trust Scores',
            },
        ),
        migrations.CreateModel(
            name='UserProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('profile_type', models.CharField(choices=[('candidate', 'Candidate'), ('recruiter', 'Recruiter'), ('employee', 'Employee'), ('admin', 'Administrator')], default='candidate', max_length=20)),
                ('phone', phonenumber_field.modelfields.PhoneNumberField(blank=True, max_length=128, null=True, region=None)),
                ('phone_verified', models.BooleanField(default=False)),
                ('date_of_birth', models.DateField(blank=True, null=True)),
                ('nationality', models.CharField(blank=True, max_length=100)),
                ('languages', models.JSONField(blank=True, default=list)),
                ('address_line1', models.CharField(blank=True, max_length=255)),
                ('address_line2', models.CharField(blank=True, max_length=255)),
                ('city', models.CharField(blank=True, max_length=100)),
                ('state', models.CharField(blank=True, max_length=100)),
                ('postal_code', models.CharField(blank=True, max_length=20)),
                ('country', models.CharField(blank=True, default='CA', max_length=100)),
                ('avatar', models.ImageField(blank=True, help_text='Allowed formats: JPG, PNG, GIF, WebP. Max size: 5MB', null=True, upload_to='avatars/', validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['jpg', 'jpeg', 'png', 'gif', 'webp'])])),
                ('bio', models.TextField(blank=True, validators=[django.core.validators.MaxLengthValidator(2000)])),
                ('linkedin_url', models.URLField(blank=True)),
                ('github_url', models.URLField(blank=True)),
                ('portfolio_url', models.URLField(blank=True)),
                ('twitter_url', models.URLField(blank=True)),
                ('preferred_language', models.CharField(default='en', max_length=10)),
                ('timezone', models.CharField(default='America/Toronto', max_length=50)),
                ('notification_preferences', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('profile_completed_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'User Profile',
                'verbose_name_plural': 'User Profiles',
            },
        ),
    ]
