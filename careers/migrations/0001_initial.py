# Generated by Django 5.2.7 on 2026-01-02 10:10

import careers.models
import django.core.validators
import django.db.models.deletion
import uuid
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='CareerCustomPage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('slug', models.SlugField(max_length=200)),
                ('content', models.TextField(blank=True, help_text='Page content (supports HTML/Markdown)')),
                ('meta_title', models.CharField(blank=True, max_length=60)),
                ('meta_description', models.CharField(blank=True, max_length=160)),
                ('is_published', models.BooleanField(default=False)),
                ('show_in_nav', models.BooleanField(default=True, help_text='Show page in navigation menu')),
                ('nav_order', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Career Custom Page',
                'verbose_name_plural': 'Career Custom Pages',
                'ordering': ['nav_order', 'title'],
            },
        ),
        migrations.CreateModel(
            name='CareerPage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('title', models.CharField(default='Careers', max_length=200)),
                ('tagline', models.CharField(blank=True, max_length=300)),
                ('description', models.TextField(blank=True)),
                ('logo', models.ImageField(blank=True, null=True, upload_to='career_logos/')),
                ('cover_image', models.ImageField(blank=True, null=True, upload_to='career_covers/')),
                ('favicon', models.ImageField(blank=True, null=True, upload_to='career_favicons/')),
                ('primary_color', models.CharField(default='#3B82F6', max_length=7)),
                ('secondary_color', models.CharField(default='#1E40AF', max_length=7)),
                ('accent_color', models.CharField(default='#10B981', max_length=7)),
                ('text_color', models.CharField(default='#1F2937', max_length=7)),
                ('background_color', models.CharField(default='#FFFFFF', max_length=7)),
                ('custom_css', models.TextField(blank=True)),
                ('show_company_info', models.BooleanField(default=True)),
                ('company_description', models.TextField(blank=True)),
                ('show_benefits', models.BooleanField(default=True)),
                ('benefits_content', models.TextField(blank=True)),
                ('show_culture', models.BooleanField(default=True)),
                ('culture_content', models.TextField(blank=True)),
                ('show_values', models.BooleanField(default=True)),
                ('values_content', models.JSONField(blank=True, default=list)),
                ('show_team', models.BooleanField(default=False)),
                ('team_members', models.JSONField(blank=True, default=list)),
                ('linkedin_url', models.URLField(blank=True)),
                ('twitter_url', models.URLField(blank=True)),
                ('facebook_url', models.URLField(blank=True)),
                ('instagram_url', models.URLField(blank=True)),
                ('glassdoor_url', models.URLField(blank=True)),
                ('meta_title', models.CharField(blank=True, max_length=200)),
                ('meta_description', models.TextField(blank=True, max_length=500)),
                ('meta_keywords', models.CharField(blank=True, max_length=500)),
                ('og_image', models.ImageField(blank=True, null=True, upload_to='career_og/')),
                ('is_active', models.BooleanField(default=True)),
                ('require_account', models.BooleanField(default=False, help_text='Require candidates to create account before applying')),
                ('show_salary_range', models.BooleanField(default=False)),
                ('allow_general_applications', models.BooleanField(default=True, help_text='Allow applications even without specific job')),
                ('gdpr_consent_text', models.TextField(blank=True, help_text='Custom GDPR/privacy consent text')),
                ('google_analytics_id', models.CharField(blank=True, max_length=50)),
                ('facebook_pixel_id', models.CharField(blank=True, max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Career Page',
                'verbose_name_plural': 'Career Pages',
            },
        ),
        migrations.CreateModel(
            name='CareerSite',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('subdomain', models.CharField(help_text='Subdomain for career site (e.g., "acme" for acme.careers.zumodra.com)', max_length=63, unique=True, validators=[careers.models.validate_subdomain])),
                ('custom_domain', models.CharField(blank=True, help_text='Custom domain (e.g., "careers.acme.com")', max_length=255, null=True, unique=True)),
                ('custom_domain_verified', models.BooleanField(default=False, help_text='Whether custom domain DNS is verified')),
                ('custom_domain_ssl', models.BooleanField(default=False, help_text='Whether SSL certificate is active for custom domain')),
                ('company_name', models.CharField(max_length=200)),
                ('tagline', models.CharField(blank=True, max_length=300)),
                ('description', models.TextField(blank=True)),
                ('logo', models.ImageField(blank=True, null=True, upload_to='career_sites/logos/', validators=[careers.models.FileSizeValidator(5)])),
                ('favicon', models.ImageField(blank=True, null=True, upload_to='career_sites/favicons/', validators=[careers.models.FileSizeValidator(1)])),
                ('cover_image', models.ImageField(blank=True, null=True, upload_to='career_sites/covers/', validators=[careers.models.FileSizeValidator(10)])),
                ('primary_color', models.CharField(default='#3B82F6', max_length=7, validators=[careers.models.validate_hex_color])),
                ('secondary_color', models.CharField(default='#1E40AF', max_length=7, validators=[careers.models.validate_hex_color])),
                ('accent_color', models.CharField(default='#10B981', max_length=7, validators=[careers.models.validate_hex_color])),
                ('text_color', models.CharField(default='#1F2937', max_length=7, validators=[careers.models.validate_hex_color])),
                ('background_color', models.CharField(default='#FFFFFF', max_length=7, validators=[careers.models.validate_hex_color])),
                ('custom_css', models.TextField(blank=True, help_text='Custom CSS for career site styling')),
                ('custom_head_scripts', models.TextField(blank=True, help_text='Custom scripts to include in <head>')),
                ('hero_title', models.CharField(blank=True, max_length=200)),
                ('hero_subtitle', models.CharField(blank=True, max_length=500)),
                ('hero_cta_text', models.CharField(default='View Open Positions', max_length=50)),
                ('hero_cta_url', models.URLField(blank=True)),
                ('about_company', models.TextField(blank=True, help_text='Rich text description of company')),
                ('company_video_url', models.URLField(blank=True, help_text='YouTube or Vimeo embed URL')),
                ('benefits_title', models.CharField(default='Why Join Us', max_length=200)),
                ('benefits_sections', models.JSONField(blank=True, default=list, help_text='List of benefit sections with icon, title, description')),
                ('culture_title', models.CharField(default='Our Culture', max_length=200)),
                ('culture_content', models.TextField(blank=True)),
                ('values', models.JSONField(blank=True, default=list, help_text='List of company values with icon, title, description')),
                ('show_team_section', models.BooleanField(default=False)),
                ('team_title', models.CharField(default='Meet the Team', max_length=200)),
                ('team_members', models.JSONField(blank=True, default=list, help_text='List of team members with photo, name, title, bio')),
                ('show_testimonials', models.BooleanField(default=False)),
                ('testimonials', models.JSONField(blank=True, default=list, help_text='List of employee testimonials with quote, name, title, photo')),
                ('linkedin_url', models.URLField(blank=True)),
                ('twitter_url', models.URLField(blank=True)),
                ('facebook_url', models.URLField(blank=True)),
                ('instagram_url', models.URLField(blank=True)),
                ('glassdoor_url', models.URLField(blank=True)),
                ('youtube_url', models.URLField(blank=True)),
                ('meta_title', models.CharField(blank=True, help_text='SEO title (max 60 chars)', max_length=60)),
                ('meta_description', models.CharField(blank=True, help_text='SEO description (max 160 chars)', max_length=160)),
                ('meta_keywords', models.CharField(blank=True, max_length=500)),
                ('og_image', models.ImageField(blank=True, help_text='Open Graph image for social sharing (1200x630 recommended)', null=True, upload_to='career_sites/og/', validators=[careers.models.FileSizeValidator(5)])),
                ('canonical_url', models.URLField(blank=True, help_text='Canonical URL if different from site URL')),
                ('google_analytics_id', models.CharField(blank=True, help_text='Google Analytics 4 Measurement ID (G-XXXXXXXXXX)', max_length=50)),
                ('google_tag_manager_id', models.CharField(blank=True, help_text='Google Tag Manager ID (GTM-XXXXXX)', max_length=50)),
                ('facebook_pixel_id', models.CharField(blank=True, max_length=50)),
                ('linkedin_insight_tag', models.CharField(blank=True, max_length=50)),
                ('is_active', models.BooleanField(default=True, help_text='Whether career site is publicly accessible')),
                ('is_published', models.BooleanField(default=False, help_text='Whether career site is published and visible')),
                ('require_account', models.BooleanField(default=False, help_text='Require candidates to create account before applying')),
                ('show_salary_range', models.BooleanField(default=False, help_text='Show salary ranges on job listings')),
                ('allow_general_applications', models.BooleanField(default=True, help_text='Allow applications even without specific job')),
                ('gdpr_consent_text', models.TextField(blank=True, default='I consent to the processing of my personal data for recruitment purposes.')),
                ('privacy_policy_url', models.URLField(blank=True, help_text='Link to privacy policy')),
                ('terms_url', models.URLField(blank=True, help_text='Link to terms and conditions')),
                ('data_retention_days', models.PositiveIntegerField(default=365, help_text='Number of days to retain candidate data')),
                ('default_application_form', models.JSONField(blank=True, default=dict, help_text='Default application form fields configuration')),
                ('allowed_resume_formats', models.JSONField(blank=True, default=list, help_text='List of allowed file extensions for resumes')),
                ('max_resume_size_mb', models.PositiveIntegerField(default=10, help_text='Maximum resume file size in MB')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('published_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Career Site',
                'verbose_name_plural': 'Career Sites',
                'ordering': ['company_name'],
            },
        ),
        migrations.CreateModel(
            name='JobAlert',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('public_id', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('email', models.EmailField(max_length=254)),
                ('name', models.CharField(blank=True, max_length=200)),
                ('confirmation_token', models.UUIDField(default=uuid.uuid4, help_text='Token for email confirmation link', unique=True)),
                ('unsubscribe_token', models.UUIDField(default=uuid.uuid4, help_text='Token for unsubscribe link', unique=True)),
                ('frequency', models.CharField(choices=[('instant', 'Instant'), ('daily', 'Daily Digest'), ('weekly', 'Weekly Digest')], default='weekly', max_length=20)),
                ('departments', models.JSONField(blank=True, default=list, help_text='List of department/category names to match')),
                ('job_types', models.JSONField(blank=True, default=list, help_text='List of job types (full_time, part_time, etc.)')),
                ('locations', models.JSONField(blank=True, default=list, help_text='List of location strings to match')),
                ('keywords', models.JSONField(blank=True, default=list, help_text='List of keywords to match in job title/description')),
                ('remote_only', models.BooleanField(default=False, help_text='Only include remote-friendly positions')),
                ('min_salary', models.DecimalField(blank=True, decimal_places=2, help_text='Minimum salary filter', max_digits=12, null=True)),
                ('status', models.CharField(choices=[('pending', 'Pending Confirmation'), ('active', 'Active'), ('paused', 'Paused'), ('unsubscribed', 'Unsubscribed')], default='pending', max_length=20)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('confirmed_at', models.DateTimeField(blank=True, null=True)),
                ('last_sent_at', models.DateTimeField(blank=True, null=True)),
                ('last_job_sent_id', models.PositiveIntegerField(blank=True, help_text='ID of last job included in alert email', null=True)),
                ('emails_sent_count', models.PositiveIntegerField(default=0)),
                ('emails_opened_count', models.PositiveIntegerField(default=0)),
                ('emails_clicked_count', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('unsubscribed_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Job Alert',
                'verbose_name_plural': 'Job Alerts',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='JobListing',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('custom_slug', models.SlugField(blank=True, max_length=200)),
                ('show_company_name', models.BooleanField(default=True)),
                ('show_department', models.BooleanField(default=True)),
                ('show_team_size', models.BooleanField(default=False)),
                ('show_application_count', models.BooleanField(default=False)),
                ('application_count_threshold', models.PositiveIntegerField(default=10, help_text='Show "10+ applicants" instead of exact count')),
                ('custom_application_form', models.JSONField(blank=True, default=dict, help_text='Custom form fields configuration')),
                ('is_featured', models.BooleanField(default=False)),
                ('feature_priority', models.PositiveIntegerField(default=0)),
                ('view_count', models.PositiveIntegerField(default=0)),
                ('apply_click_count', models.PositiveIntegerField(default=0)),
                ('published_at', models.DateTimeField(blank=True, null=True)),
                ('expires_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Job Listing',
                'verbose_name_plural': 'Job Listings',
                'ordering': ['-is_featured', '-feature_priority', '-published_at'],
            },
        ),
        migrations.CreateModel(
            name='JobView',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('referrer', models.URLField(blank=True, max_length=2000)),
                ('session_key', models.CharField(blank=True, max_length=40)),
                ('utm_source', models.CharField(blank=True, max_length=100)),
                ('utm_medium', models.CharField(blank=True, max_length=100)),
                ('utm_campaign', models.CharField(blank=True, max_length=100)),
                ('utm_term', models.CharField(blank=True, max_length=100)),
                ('utm_content', models.CharField(blank=True, max_length=100)),
                ('viewed_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Job View',
                'verbose_name_plural': 'Job Views',
                'ordering': ['-viewed_at'],
            },
        ),
        migrations.CreateModel(
            name='PublicApplication',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('first_name', models.CharField(max_length=100)),
                ('last_name', models.CharField(max_length=100)),
                ('email', models.EmailField(max_length=254)),
                ('phone', models.CharField(blank=True, max_length=30)),
                ('resume', models.FileField(upload_to='public_resumes/', validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['pdf', 'doc', 'docx'])])),
                ('cover_letter', models.TextField(blank=True)),
                ('custom_answers', models.JSONField(blank=True, default=dict)),
                ('linkedin_url', models.URLField(blank=True)),
                ('portfolio_url', models.URLField(blank=True)),
                ('privacy_consent', models.BooleanField(default=False)),
                ('privacy_consent_text', models.TextField(blank=True, help_text='The consent text that was shown to the applicant')),
                ('marketing_consent', models.BooleanField(default=False)),
                ('consent_timestamp', models.DateTimeField(blank=True, null=True)),
                ('consent_ip', models.GenericIPAddressField(blank=True, null=True)),
                ('status', models.CharField(choices=[('pending', 'Pending Processing'), ('processed', 'Processed to ATS'), ('duplicate', 'Duplicate Application'), ('spam', 'Marked as Spam'), ('error', 'Processing Error')], default='pending', max_length=20)),
                ('processed_at', models.DateTimeField(blank=True, null=True)),
                ('processing_error', models.TextField(blank=True)),
                ('spam_score', models.FloatField(default=0.0, help_text='Spam probability score (0-1)')),
                ('honeypot_triggered', models.BooleanField(default=False)),
                ('submission_time_seconds', models.PositiveIntegerField(blank=True, help_text='Time taken to submit form in seconds', null=True)),
                ('source', models.CharField(blank=True, max_length=100)),
                ('utm_source', models.CharField(blank=True, max_length=100)),
                ('utm_medium', models.CharField(blank=True, max_length=100)),
                ('utm_campaign', models.CharField(blank=True, max_length=100)),
                ('utm_term', models.CharField(blank=True, max_length=100)),
                ('utm_content', models.CharField(blank=True, max_length=100)),
                ('referrer', models.URLField(blank=True, max_length=2000)),
                ('user_agent', models.TextField(blank=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('submitted_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Public Application',
                'verbose_name_plural': 'Public Applications',
                'ordering': ['-submitted_at'],
            },
        ),
        migrations.CreateModel(
            name='TalentPool',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('is_public', models.BooleanField(default=False, help_text='Allow candidates to self-join')),
                ('auto_add_criteria', models.JSONField(blank=True, default=dict, help_text='Auto-add candidates matching criteria')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Talent Pool',
                'verbose_name_plural': 'Talent Pools',
            },
        ),
        migrations.CreateModel(
            name='TalentPoolMember',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('added_at', models.DateTimeField(auto_now_add=True)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Talent Pool Member',
                'verbose_name_plural': 'Talent Pool Members',
            },
        ),
        migrations.CreateModel(
            name='CareerPageSection',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('section_type', models.CharField(choices=[('text', 'Text Block'), ('image', 'Image'), ('video', 'Video'), ('testimonial', 'Testimonial'), ('faq', 'FAQ'), ('cta', 'Call to Action'), ('stats', 'Statistics'), ('gallery', 'Image Gallery')], default='text', max_length=20)),
                ('content', models.JSONField(default=dict)),
                ('order', models.PositiveIntegerField(default=0)),
                ('is_visible', models.BooleanField(default=True)),
                ('career_page', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sections', to='careers.careerpage')),
            ],
            options={
                'verbose_name': 'Career Page Section',
                'verbose_name_plural': 'Career Page Sections',
                'ordering': ['order'],
            },
        ),
    ]
