# =============================================================================
# ZUMODRA ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy to .env and configure. Required values are marked [REQUIRED].
# For development, most defaults work out of the box.
# For production, all [REQUIRED] values must be set.
# =============================================================================

# =============================================================================
# ENVIRONMENT MODE
# =============================================================================
DEBUG=True                                    # False for production

# =============================================================================
# SECURITY [REQUIRED]
# =============================================================================
# Generate: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=your-secret-key-here

# Comma-separated list of allowed hosts
# Development: localhost,127.0.0.1,.localhost
# Production: yourdomain.com,.yourdomain.com (dot prefix allows all subdomains)
# Example: zumodra.rhematek-solutions.com,.zumodra.rhematek-solutions.com,localhost,127.0.0.1
ALLOWED_HOSTS=localhost,127.0.0.1,.localhost

# =============================================================================
# DATABASE [REQUIRED]
# =============================================================================
DB_HOST=db                                    # postgres-primary for production
DB_PORT=5432
DB_NAME=zumodra
DB_USER=postgres
DB_PASSWORD=your-database-password

# =============================================================================
# REDIS [REQUIRED]
# =============================================================================
REDIS_URL=redis://redis:6379/0
# REDIS_PASSWORD=                             # Uncomment for production

# =============================================================================
# RABBITMQ [REQUIRED for Celery]
# =============================================================================
RABBITMQ_USER=zumodra
RABBITMQ_PASSWORD=your-rabbitmq-password
RABBITMQ_VHOST=zumodra

# =============================================================================
# CELERY (auto-configured from above, or override)
# =============================================================================
# CELERY_BROKER_URL=amqp://zumodra:password@rabbitmq:5672/zumodra
# CELERY_RESULT_BACKEND=redis://redis:6379/1

# =============================================================================
# EMAIL
# =============================================================================
# Development: Use console backend to see emails in logs
# EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# Production: Use SMTP
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=localhost
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
DEFAULT_FROM_EMAIL=noreply@localhost

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================
BASE_DOMAIN=localhost
SITE_URL=http://localhost:8000
# TENANT_BASE_DOMAIN is used for subdomain-based tenant resolution
# Production example: zumodra.rhematek-solutions.com
TENANT_BASE_DOMAIN=localhost

# =============================================================================
# SSL SETTINGS (True for production)
# =============================================================================
SECURE_SSL_REDIRECT=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# =============================================================================
# STRIPE [REQUIRED for payments]
# =============================================================================
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_PUBLIC_KEY=pk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# =============================================================================
# ANALYTICS (Optional)
# =============================================================================
GOOGLE_ANALYTICS_PROPERTY_ID=
CLICKY_SITE_ID=
CRAZY_EGG_ACCOUNT_NUMBER=

# =============================================================================
# MONITORING (Optional)
# =============================================================================
SENTRY_DSN=
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# =============================================================================
# AWS S3 (Optional, for media in production)
# =============================================================================
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_STORAGE_BUCKET_NAME=
AWS_S3_REGION_NAME=us-east-1

# =============================================================================
# INTEGRATIONS (Optional)
# =============================================================================
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
OPENAI_API_KEY=

# =============================================================================
# STARTUP OPTIONS (Docker entrypoint)
# =============================================================================
CREATE_DEMO_TENANT=true                       # Auto-create demo tenant on startup
RUN_TESTS=false                               # Run pytest suite on startup
TEST_COVERAGE=false                           # Include test coverage report
TESTS_FAIL_FAST=false                         # Stop on first test failure

# =============================================================================
# PORT MAPPINGS (Optional, for Docker - these are the external ports)
# =============================================================================
DB_EXTERNAL_PORT=5434
REDIS_EXTERNAL_PORT=6380
RABBITMQ_AMQP_PORT=5673
RABBITMQ_MGMT_PORT=15673
WEB_PORT=8002
CHANNELS_PORT=8003
NGINX_PORT=8084
