# =============================================================================
# ZUMODRA LOCAL DEVELOPMENT ENVIRONMENT VARIABLES
# =============================================================================
# Copy this to .env and customize for your environment
# For production, use secure secrets management (Vault, AWS Secrets, etc.)
# =============================================================================

# =============================================================================
# DJANGO CORE SETTINGS
# =============================================================================
SECRET_KEY=your-secret-key-here-generate-with-django
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# Application version (for Docker image tagging)
VERSION=latest

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL with PostGIS)
# =============================================================================
DB_ENGINE=django.contrib.gis.db.backends.postgis
DB_DEFAULT_NAME=zumodra
DB_USER=postgres
DB_PASSWORD=your-database-password
DB_HOST=localhost
DB_DEFAULT_PORT=5432

# Database Connection Pooling (for production)
DB_CONN_MAX_AGE=60
DB_CONN_HEALTH_CHECKS=True

# Read Replica (optional - for scaling reads)
# DB_READ_HOST=localhost
# DB_READ_PORT=5433

# =============================================================================
# MULTI-TENANCY CONFIGURATION
# =============================================================================
TENANT_BASE_DOMAIN=localhost
PUBLIC_SCHEMA_NAME=public

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Main Redis URL (default for all services)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# Redis for Django Cache (db 1)
REDIS_CACHE_URL=redis://localhost:6379/1
CACHE_TIMEOUT=300

# Redis for Sessions (db 2)
REDIS_SESSION_URL=redis://localhost:6379/2
SESSION_COOKIE_AGE=1209600

# Redis for Celery Broker (db 3)
CELERY_BROKER_URL=redis://localhost:6379/3

# Redis for Celery Results (db 4)
CELERY_RESULT_BACKEND=redis://localhost:6379/4

# Redis for Django Channels/WebSockets (db 5)
CHANNELS_REDIS_URL=redis://localhost:6379/5

# Redis for Rate Limiting (db 6)
RATELIMIT_REDIS_URL=redis://localhost:6379/6

# Redis Connection Pool Settings
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================
# Cache backend: redis, memcached, locmem, dummy
CACHE_BACKEND=django.core.cache.backends.redis.RedisCache

# Cache key prefix (useful for shared Redis)
CACHE_KEY_PREFIX=zumodra

# Default cache timeout in seconds (5 minutes)
CACHE_DEFAULT_TIMEOUT=300

# Cache timeouts by type
CACHE_TIMEOUT_SHORT=60
CACHE_TIMEOUT_MEDIUM=300
CACHE_TIMEOUT_LONG=3600
CACHE_TIMEOUT_DAY=86400

# Query result caching
CACHE_QUERYSET_TIMEOUT=120

# Template fragment caching
CACHE_TEMPLATE_TIMEOUT=600

# API response caching
CACHE_API_TIMEOUT=60

# =============================================================================
# SESSION CONFIGURATION
# =============================================================================
# Session backend: db, cache, cached_db, file, signed_cookies
SESSION_ENGINE=django.contrib.sessions.backends.cache
SESSION_CACHE_ALIAS=sessions

# Session expiry (2 weeks in seconds)
SESSION_COOKIE_AGE=1209600

# Session security
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax
SESSION_SAVE_EVERY_REQUEST=False

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================
# Broker settings
CELERY_BROKER_CONNECTION_RETRY_ON_STARTUP=True
CELERY_BROKER_POOL_LIMIT=10

# Result backend settings
CELERY_RESULT_EXPIRES=3600
CELERY_RESULT_EXTENDED=True

# Task execution settings
CELERY_TASK_ACKS_LATE=True
CELERY_TASK_REJECT_ON_WORKER_LOST=True
CELERY_TASK_TIME_LIMIT=1800
CELERY_TASK_SOFT_TIME_LIMIT=1500

# Worker settings
CELERY_WORKER_PREFETCH_MULTIPLIER=4
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000

# Task queues
CELERY_ANALYTICS_QUEUE=analytics
CELERY_NOTIFICATIONS_QUEUE=notifications
CELERY_SERVICES_QUEUE=services
CELERY_DEFAULT_QUEUE=default
CELERY_HIGH_PRIORITY_QUEUE=high_priority
CELERY_LOW_PRIORITY_QUEUE=low_priority

# Beat scheduler
CELERY_BEAT_SCHEDULER=django_celery_beat.schedulers:DatabaseScheduler

# =============================================================================
# RABBITMQ CONFIGURATION (Alternative to Redis for Celery)
# =============================================================================
# RABBITMQ_USER=zumodra
# RABBITMQ_PASSWORD=your-rabbitmq-password

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=localhost
EMAIL_PORT=587
EMAIL_USE_TLS=False
EMAIL_USE_SSL=False
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
DEFAULT_FROM_EMAIL=noreply@zumodra.local
SERVER_EMAIL=server@zumodra.local

# Email rate limiting
EMAIL_RATE_LIMIT=100/hour

# SMTP for alerting (production)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=alerts@yourdomain.com
# SMTP_PASSWORD=your-smtp-password

# =============================================================================
# STRIPE PAYMENT CONFIGURATION
# =============================================================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Connect (for marketplace payouts)
STRIPE_CONNECT_CLIENT_ID=ca_your_connect_client_id
STRIPE_PLATFORM_FEE_PERCENT=10

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
SECURE_SSL_REDIRECT=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False

# Content Security Policy
CSP_DEFAULT_SRC="'self'"
CSP_REPORT_URI=/csp-report/

# =============================================================================
# API CONFIGURATION
# =============================================================================
JWT_SECRET_KEY=your-jwt-secret-key-here-generate-securely
JWT_ACCESS_TOKEN_LIFETIME=15
JWT_REFRESH_TOKEN_LIFETIME=1440
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# RATE LIMITING
# =============================================================================
RATELIMIT_ENABLE=False
RATELIMIT_USE_CACHE=default
API_RATE_LIMIT_ANON=100/hour
API_RATE_LIMIT_USER=1000/hour
API_RATE_LIMIT_BURST=20/minute
LOGIN_RATE_LIMIT=5/minute

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=DEBUG
LOG_FILE=logs/zumodra.log
LOG_MAX_SIZE=10485760
LOG_BACKUP_COUNT=5

# Sentry Error Tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================
DOMAIN=localhost
ADMIN_EMAIL=admin@localhost
SITE_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000

# Operations/DBA emails (for alerts)
# OPS_EMAIL=ops@yourdomain.com
# DBA_EMAIL=dba@yourdomain.com

# =============================================================================
# FILE STORAGE
# =============================================================================
# Storage backend: local, s3
FILE_STORAGE_BACKEND=local
MEDIA_ROOT=media
STATIC_ROOT=staticfiles

# S3 Storage (for production)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_STORAGE_BUCKET_NAME=zumodra-media
# AWS_S3_REGION_NAME=us-east-1
# AWS_S3_CUSTOM_DOMAIN=
# AWS_DEFAULT_ACL=private
# AWS_S3_FILE_OVERWRITE=False

# =============================================================================
# SEARCH CONFIGURATION (Elasticsearch - optional)
# =============================================================================
# ELASTICSEARCH_URL=http://localhost:9200
# ELASTICSEARCH_INDEX_PREFIX=zumodra
# ELASTICSEARCH_TIMEOUT=30

# =============================================================================
# AI/ML CONFIGURATION
# =============================================================================
# OpenAI for AI matching
# OPENAI_API_KEY=sk-your-openai-key
# OPENAI_MODEL=gpt-4
# AI_MATCHING_ENABLED=False

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Prometheus metrics
PROMETHEUS_METRICS_ENABLED=False
PROMETHEUS_METRICS_PORT=9090

# Health check endpoints
HEALTH_CHECK_ENABLED=True

# Grafana
# GRAFANA_ADMIN_USER=admin
# GRAFANA_ADMIN_PASSWORD=your-grafana-password

# Slack Alerts (optional)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/yyy/zzz

# PagerDuty (optional)
# PAGERDUTY_SERVICE_KEY=your-pagerduty-key

# =============================================================================
# ANALYTICS CONFIGURATION
# =============================================================================
# GOOGLE_ANALYTICS_PROPERTY_ID=UA-XXXXXXX-1
# CLICKY_SITE_ID=
# CRAZY_EGG_ACCOUNT_NUMBER=

# GeoIP Configuration
# GEOIP_PATH=path/to/geoip_data

# =============================================================================
# SOCIAL AUTHENTICATION
# =============================================================================
# Google OAuth
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=

# GitHub OAuth
# GITHUB_CLIENT_ID=
# GITHUB_CLIENT_SECRET=

# Facebook OAuth
# FACEBOOK_APP_ID=
# FACEBOOK_APP_SECRET=

# LinkedIn OAuth
# LINKEDIN_CLIENT_ID=
# LINKEDIN_CLIENT_SECRET=

# =============================================================================
# KYC / VERIFICATION PROVIDERS
# =============================================================================
# KYC_PROVIDER=onfido
# KYC_API_KEY=your-kyc-api-key
# KYC_WEBHOOK_SECRET=your-kyc-webhook-secret

# =============================================================================
# E-SIGNATURE INTEGRATION (DocuSign)
# =============================================================================
# DOCUSIGN_INTEGRATION_KEY=your-integration-key
# DOCUSIGN_SECRET_KEY=your-secret-key
# DOCUSIGN_ACCOUNT_ID=your-account-id

# =============================================================================
# VIDEO INTERVIEW INTEGRATION
# =============================================================================
# WHEREBY_API_KEY=your-whereby-api-key
# ZOOM_API_KEY=your-zoom-api-key
# ZOOM_API_SECRET=your-zoom-api-secret

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_AI_MATCHING=False
FEATURE_VIDEO_INTERVIEWS=False
FEATURE_ADVANCED_ANALYTICS=False
FEATURE_MULTI_LANGUAGE=True
FEATURE_DARK_MODE=True

# =============================================================================
# SSL CERTIFICATE PATHS (for production with Certbot)
# =============================================================================
# SSL_CERTIFICATE=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
# SSL_CERTIFICATE_KEY=/etc/letsencrypt/live/yourdomain.com/privkey.pem
